# FreeBSD 2024 年第三季度状态报告

这是2024年第三季度的状态报告，共有32项条目。

不幸的是，本季度我们再次迟交，就像上个季度一样。正如我们的读者所知，许多FreeBSD的贡献者都是志愿者，因此像状态报告这样的重要性较低的截止日期并不总是能按时完成。事实上，如果你还不是FreeBSD的贡献者，[请考虑加入我们](https://docs.freebsd.org/en/articles/contributing/): 你可以在与世界各地的开发者并肩工作时，减轻某人的负担，同时学习新技能。

祝你阅读愉快。

Lorenzo Salvadore，代表状态团队。

## FreeBSD团队报告

来自各个官方和半官方团队的条目，见[管理页面](https://www.freebsd.org/administration/)。

### FreeBSD核心团队

联系方式：FreeBSD核心团队 \<[core@FreeBSD.org](mailto:core@FreeBSD.org)\>

FreeBSD核心团队是FreeBSD的治理机构。

核心团队欢迎René Ladan（rene@）作为新的秘书。

#### 联络人

核心团队从中选出了各个团队的新联络人：

* bugmeister：glebius
* ci：olivier
* clusteradm：mat
* doceng：lwhsu
* foundation：hrs
* portmgr：tcberner
* re：dch
* secteam：allanjude
* srcmgr：glebius

#### DevSummit 202409

* 核心团队几乎全员参加了2024年在都柏林举办的EuroBSDCon。以下人员出席：allanjude, dch, glebius, hrs, lwhsu, mat, olivier, rene
* 演示文稿可在[https://wiki.freebsd.org/DevSummit/202409](https://wiki.freebsd.org/DevSummit/202409)查看
* 核心团队与FreeBSD基金会进行了定期会议，并借此机会面对面交流。会议内容包括改善两组之间以及与社区的对齐与沟通。

#### FreeBSD版本的新支持时间表

* 核心团队批准了re@提出的减少FreeBSD版本支持时间表的提案，将支持期限从五年缩短为四年，四年后该版本将以尽力而为的方式继续提供支持。该提案得到了portmgr和secteam的支持。

#### srcmgr

* 核心团队帮助成立了一个新的srcmgr团队。其章程尚未完全确定，如果需要，可以在6到12个月后进行调整。
* 从现在开始，新的src提交权限提名应发送至srcmgr@而非core@。
* 提议设立一个潜水者计划，以保持新成员的涌入。
* 核心团队在DevSummit 202409上宣布了srcmgr，并于9月29日向developers@发送了后续通知。

#### 提交权限

* 核心团队欢迎Igor Ostapenko（igoro）成为新的src提交者。
* 核心团队扩展了grim reaper脚本发送的文本，增加了如何重新激活开发者提交权限的说明。


### FreeBSD基金会

链接：
[FreeBSD基金会](https://freebsdfoundation.org/) URL: [https://freebsdfoundation.org/](https://freebsdfoundation.org/)
[技术路线图](https://freebsdfoundation.org/blog/technology-roadmap/) URL: [https://freebsdfoundation.org/blog/technology-roadmap/](https://freebsdfoundation.org/blog/technology-roadmap/)
[捐赠](https://freebsdfoundation.org/donate/) URL: [https://freebsdfoundation.org/donate/](https://freebsdfoundation.org/donate/)
[基金会合作伙伴计划](https://freebsdfoundation.org/our-donors/freebsd-foundation-partnership-program/) URL: [https://freebsdfoundation.org/our-donors/freebsd-foundation-partnership-program/](https://freebsdfoundation.org/our-donors/freebsd-foundation-partnership-program/)
[FreeBSD期刊](https://freebsdfoundation.org/journal/) URL: [https://freebsdfoundation.org/journal/](https://freebsdfoundation.org/journal/)
[基金会活动](https://freebsdfoundation.org/our-work/events/) URL: [https://freebsdfoundation.org/our-work/events/](https://freebsdfoundation.org/our-work/events/)

联系方式：Deb Goodkin \<[deb@FreeBSDFoundation.org](mailto:deb@FreeBSDFoundation.org)\>

FreeBSD基金会是一个501(c)(3)非盈利组织，致力于支持和促进FreeBSD项目及全球社区，并推动FreeBSD的发展。我们通过技术和非技术方式实现这一目标。我们完全依靠个人和企业的捐赠支持，这些捐款帮助我们资助以下项目：

* 软件开发项目，以实现FreeBSD的功能和特性
* 赞助和组织会议及开发者峰会，提供协作机会并促进FreeBSD的发展
* 购买和支持硬件，以改善和维护FreeBSD的基础设施
* 改进安全性、质量保证和持续集成工作的资源
* 用于推广、教育和倡导FreeBSD的材料和人员
* 商业供应商与FreeBSD开发者之间的合作
* 代表FreeBSD项目执行合同、许可证协议及其他需要有合法实体的法律安排

尽管夏季通常较为缓慢，但我们仍然完成了大量工作，您将在我们的第三季度报告中看到这些成果！一些亮点包括：从个人捐赠者那里筹集了超过135,000美元，并启动了两个重大项目。首先，感谢Sovereign Tech Fund的大额投资，我们将进一步改善我们的基础设施。其次，感谢Quantum Leap Research和基金会的资助，我们将加速推进FreeBSD在现代笔记本电脑上的项目。我们还继续推进由Alpha-Omega资助的项目，招聘了一名用户空间软件开发者，并开设了解决方案专家的职位。

正如您将在下面看到的，借助倡导和社区传播FreeBSD仍然是我们使命中的重要部分。在夏季，我们赞助了EuroBSDCon，并将赞助即将到来的FreeBSD和OpenZFS峰会，同时为大约八名FreeBSD贡献者提供了参加EuroBSDCon的旅行资助。我们的倡导团队积极制作内容，推广FreeBSD的优势和特性，解释为什么公司使用FreeBSD，以及如果你关心安全，为什么你也应该使用FreeBSD。我们还在社交媒体上推广了项目和基金会的工作。

在EuroBSDCon期间，基金会与核心团队成员会面，讨论核心团队在其任期内希望达成的目标。我们确定了两个近期需要重点解决的领域：

1. 财务报告透明度 - 在我们的季度报告中详细列出操作系统改进的支出。我们正在与会计师合作，从2025年开始，我们将报告在某些项目和关键领域（如笔记本电脑、企业、安保等）上的支出。与此同时，我们将在财务报告中添加注释，记录哪些项目包含在操作系统改进支出类别中。我们意识到今年没有发布财务报表。我们的会计团队正在为我们引入改进的报告方式，并将我们的账目整合进新的会计系统。
2. 我们资助的项目没有在项目官网上提及。我们在自己的网站上记录这些项目，因为我们希望展示捐赠者的资金是如何被使用的。我们意识到还需要在FreeBSD.org上添加这些项目的文档，因此我们将调查如何更好地将我们的软件开发工作与FreeBSD项目连接起来。

我们资助了大量的软件开发工作，旨在推动、改进并保持FreeBSD的安全。我们为其中一些工作获得了资金支持，但大部分资金来自于您的捐赠和我们的投资。我们的目标是专注于FreeBSD的长期可持续发展。为了实现这一目标，我们需要更多的公司参与进来，帮助资助我们的工作。我们的投资最多只能持续一两年。如果您的公司依赖于FreeBSD，请考虑提供财政支持，以确保它保持安全、可靠且富有创新性。如果您不确定如何发起捐赠，请[联系我们](mailto:deb@freebsdfoundation.org)，我们可以帮助您导航这个过程。

请访问此处进行捐赠：[https://freebsdfoundation.org/donate/](https://freebsdfoundation.org/donate/)。欲了解更多关于我们的合作伙伴计划，请访问：[https://freebsdfoundation.org/our-donors/freebsd-foundation-partnership-program/](https://freebsdfoundation.org/our-donors/freebsd-foundation-partnership-program/)。

#### 操作系统改进

在2024年第三季度，263个src、37个port和11个文档树的提交中，FreeBSD基金会被标记为赞助商。

FreeBSD基金会的几位开发团队成员参加了在爱尔兰都柏林举行的[FreeBSD开发者峰会](https://wiki.freebsd.org/DevSummit/202409)，并在[EuroBSDCon 2024](https://2024.eurobsdcon.org/)之前举行了会议。您可以观看[来自基金会的问候](https://www.youtube.com/watch?v=CDEb_0CSur4)视频，开幕式中：

* Deb Goodkin介绍了FreeBSD基金会
* Joe Mingrone介绍了开发团队成员，并简要介绍了FreeBSD 2024 Google Summer Code活动
* Ed Maste描述了基金会当前或最近完成的开发项目。

最近开始支持基金会的技术项目管理角色的Alice Sowerby，做了一场[介绍CHAOSS（开源软件社区健康分析）项目](https://www.youtube.com/watch?v=Xb1ptoPfawM)的演讲，讲解了如何开始收集和处理社区健康指标。

基金会正在支持四个主要项目，这些项目得到了新的资助和投资合作伙伴的支持。

* 第一个项目，部分由[Alpha-Omega](https://alpha-omega.dev/)资助，旨在提高FreeBSD的安全性。作为该项目的一部分，基金会聘请了[Synacktiv](https://www.synacktiv.com/en)对两个重要子系统进行代码审计：bhyve和Capsicum。详细信息请参见专门的[Capsicum和Bhyve代码审计](https://www.freebsd.org/status/report-2024-07-2024-09/#_capsicum_and_bhyve_code_audit)报告条目。
* 第二个项目，由AMD和基金会共同资助，旨在为FreeBSD开发一个AMD IOMMU驱动程序。该项目的动因是更好地支持大型核心AMD系统。然而，该驱动程序将在需要中断重映射的不同场景下也会发挥作用。目前，该工作已接近完成，开发人员Konstantin Belousov正在对一些AMD的大核心系统进行驱动程序测试，待测试完成后提交。
* 第三个项目，由[Sovereign Tech Fund](https://www.sovereigntechfund.de/)投资支持，旨在通过五个关键子项目来改进FreeBSD：

  * **零信任构建**：增强工具和流程
  * **CI/CD自动化**：简化软件交付和运维
  * **减少技术债务**：实施工具和流程以保持低技术债务
  * **安全控制**：现代化并扩展安全工件，包括FreeBSD端口和包集合，以帮助合规性
  * **SBOM改进**：增强并实现新的工具和流程来支持FreeBSD的SBOM

  为了减少技术债务，我们与[Bitergia](https://bitergia.com/)合作，分析和评估我们的Bugzilla中的开放问题。通过实施改进的议题管理流程并为长期建立开源工具，我们的目标是实现并维持一个可管理的缺陷积压。其余四个子项目将在2025年开始。
* 第四个项目，将由基金会和Quantum Leap Research共同资助，旨在[改进FreeBSD笔记本的可用性](https://freebsdfoundation.org/blog/why-laptop-support-why-now-freebsds-strategic-move-toward-broader-adoption/)。我们已经开始（或即将开始）支持在以下领域工作的开发者：

  * **增强的无线芯片组支持**：扩大芯片组兼容性，确保可靠的无线连接，并支持更新的无线标准。
  * **电源管理**：实施现代电源节省状态（如s2idle和s0ix），提高电池寿命和能源效率。
  * **图形增强**：通过集成最新的DRM驱动程序，改善对Intel和AMD图形的支持。
  * **音频改进**：增强音频路由、耳机切换和数字麦克风（DMIC）功能，提供更友好的多媒体体验。
  * **笔记本特有硬件功能**：解决现代笔记本中发现的特殊按钮、触摸板手势和其他独特硬件组件的问题。

[FreeBSD完成了连续第20年参与Google Summer of Code](https://www.freebsd.org/projects/summerofcode/)。今年夏天的[11个项目](https://wiki.freebsd.org/SummerOfCode2024Projects)已完成，其中9个项目通过了评审。

基金会一直为FreeBSD开源容器倡议（OCI）工作组提供项目管理支持，由Alice Sowerby主持每两周一次的会议，并运行了最近的[FreeBSD上Podman测试项目](https://github.com/oci-playground/freebsd-podman-testing/blob/main/README.md)。[OCI](https://opencontainers.org/)开发云原生容器格式和运行时的开放行业标准，确保平台的一致性。FreeBSD的OCI工作组正在为FreeBSD定义这些标准，实施方式包括使用jails，可能还会使用bhyve的轻量级虚拟机。详细信息请参见基金会的[OCI容器支持项目页面](https://freebsdfoundation.org/project/oci-container-support/)。

基金会的其他新闻：

* Isaac Freund加入基金会开发团队，担任用户空间开发者。他是River Wayland合成器的首席开发者，也是Core Zig团队的成员，我们对Isaac为FreeBSD带来的经验感到兴奋。
* Alfonso Sabato Siciliano正在为盲人、低视力和色盲用户开发视觉无障碍子系统。新功能将包括一个盲文显示框架、虚拟终端控制台的通信通道、语音合成器、高对比度TUI工具和一本文档FreeBSD上可用辅助技术的可访问性手册。
* Tom Jones完成了与RGNets的工作，将多平台网络堆栈Vector Packet Processor（VPP）移植到FreeBSD。您可以在他的[Endpoint-Independent NAT](https://www.freebsd.org/status/report-2024-07-2024-09/#_endpoint_independent_nat)报告条目中阅读有关他下一个支持FreeBSD防火墙的完整锥形NAT的项目。
* Christos Margiolis继续改进FreeBSD的音频堆栈，并为音频开发人员提供有用的工具和框架，便于在FreeBSD上进行声音开发。最新进展请参考[音频堆栈改进](https://www.freebsd.org/status/report-2024-07-2024-09/#_audio_stack_improvements)条目。
* Olivier Certner在本报告中有两个条目。您可以在[调度优先级：256队列运行队列子项目](https://www.freebsd.org/status/report-2024-07-2024-09/#_scheduling_priorities_256_queue_runqueues_sub_project)和[mac_do(4)、setcred(2)、mdo(1)](https://www.freebsd.org/status/report-2024-07-2024-09/#_mac_do4_setcred2_mdo1)报告条目中了解他的最新工作。
* Bjoern Zeeb继续改进FreeBSD的无线网络。您可以在Bjoern的[无线更新](https://www.freebsd.org/status/report-2024-07-2024-09/#_wireless_update)条目中了解最新进展。
* Philip Paeps继续进行合同工作，以现代化FreeBSD集群。
* Chih-Hsin Chang继续移植OpenStack组件，以便在FreeBSD主机上运行该云计算平台。最新信息请参见[FreeBSD上的OpenStack](https://www.freebsd.org/status/report-2024-07-2024-09/#_openstack_on_freebsd)条目。
* 基金会技术团队的其他成员也为FreeBSD开发做出了贡献。例如：

  * Mitchell Horne为RISC-V提交了工作，包括添加对Supervisor模式：基于页面的内存类型（Svpbmt）扩展的支持
  * Ed Maste用[etcupdate(8)](https://man.freebsd.org/cgi/man.cgi?query=etcupdate&sektion=8&format=html)替换了已弃用的mergemaster工具，用于更新未由安装世界管理的文件
  * Joe Mingrone更新了我们的基础libpcap和[tcpdump(1)](https://man.freebsd.org/cgi/man.cgi?query=tcpdump&sektion=1&format=html)
  * Li-Wen Hsu保持我们的Jenkins端口跟踪最新的上游版本，并进行了一些端口更新。

#### 持续集成和工作流改进

作为我们持续支持FreeBSD项目的一部分，基金会支持一名全职员工，专门负责改进该项目的持续集成系统和测试基础设施。


#### 宣传活动

在2024年第三季度，我们继续加大力度，提高项目的认知度，推动对项目的倡导，突出用户，并为FreeBSD社区提供教育内容。以下是我们的一些努力成果：

* 在2024年EuroBSDcon FreeBSD开发者峰会上进行了演讲。幻灯片和直播视频[现已可用](https://wiki.freebsd.org/DevSummit/202409)。
* 参加并展示了[EuroBSDCon 2024](https://2024.eurobsdcon.org/)。基金会再次成为银牌赞助商。
* 完成了[OpenZFS用户和开发者峰会](https://freebsdfoundation.org/news-and-events/event-calendar/openzfs-developer-summit-2024/)的铜牌赞助。
* 开始筹备[2024年秋季FreeBSD峰会](https://freebsdfoundation.org/news-and-events/event-calendar/fall-2024-freebsd-summit/)，该峰会将于2024年11月7日至8日在加利福尼亚州圣荷西举行。会议程序现已发布，并已开放注册。
* 更新了社区关于新发布计划的信息：[Navigating FreeBSD’s New Quarterly and Biennial Release Schedule](https://freebsdfoundation.org/blog/navigating-freebsds-new-quarterly-and-biennial-release-schedule/)。
* 宣布了：[新的CIS? FreeBSD 14基准：通过专家指导的最佳实践保护您的系统](https://freebsdfoundation.org/blog/new-cis-freebsd-14-benchmark-secure-your-systems-with-expert-guided-best-practices/)。
* 分享了更多关于Sovereign Tech Fund对基金会投资的细节：[Sovereign Tech Fund将投资686,400欧元用于FreeBSD基础设施现代化](https://freebsdfoundation.org/blog/sovereign-tech-fund-to-invest-e686400-in-freebsd-infrastructure-modernization/)。
* 宣布了[Quantum Leap Research与FreeBSD基金会共同投资，改善笔记本电脑支持和可用性](https://freebsdfoundation.org/news-and-events/latest-news/quantum-leap-research-and-freebsd-foundation-to-invest-750000-to-improve-laptop-support-and-usability/)，并解释了[我们为何做出这一投资](https://freebsdfoundation.org/blog/why-laptop-support-why-now-freebsds-strategic-move-toward-broader-adoption/)。
* 发布了更多博客文章，包括：
  
  * [FreeBSD Ports和Packages：你需要知道的事](https://freebsdfoundation.org/blog/freebsd-ports-and-packages-what-you-need-to-know/)
  * [为什么你应该使用FreeBSD](https://freebsdfoundation.org/blog/why-you-should-use-freebsd/)
  * [增强编程中的内存安全：来自FreeBSD供应商峰会的见解](https://freebsdfoundation.org/blog/enhancing-memory-safety-in-programming-insights-from-the-freebsd-vendor-summit/)
  * [FreeBSD作为您未来技术的平台](https://freebsdfoundation.org/blog/freebsd-as-a-platform-for-your-future-technology/)
  * [庆祝FreeBSD：Deb Goodkin的见解](https://freebsdfoundation.org/blog/celebrating-freebsd-insights-from-deb-goodkin/)
* 参与了以下贡献文章、访谈和播客：
  
  * [了解Deb Goodkin，FreeBSD基金会执行董事](https://freebsdfoundation.org/news-and-events/latest-news/get-to-know-deb-goodkin-executive-director-freebsd-foundation/)
  * [All Things Open博客：释放FreeBSD的潜力](https://freebsdfoundation.org/news-and-events/latest-news/all-things-open-blog-unlocking-the-potential-of-freebsd/)
  * [为什么开源是新开发者的理想之地——以及如何入门，FreeBSD基金会的Deb Goodkin分享](https://freebsdfoundation.org/news-and-events/latest-news/why-open-source-can-be-the-perfect-place-for-new-developers-and-how-to-get-started-with-deb-goodkin-from-the-freebsd-foundation/)
  * [在动荡的开源世界中保持稳定：FreeBSD的持久稳定性](https://freebsdfoundation.org/news-and-events/latest-news/steady-in-a-shifting-open-source-world-freebsds-enduring-stability/)
  * [苹果的开源根源：macOS和iOS背后的BSD遗产](https://freebsdfoundation.org/news-and-events/latest-news/apples-open-source-roots-the-bsd-heritage-behind-macos-and-ios/)
* 发布了2024年7月、8月和9月的FreeBSD基金会更新。
* 发布了2024年5月/6月和7月/8月的FreeBSD期刊HTML版文章，分别为[May/June 2024](https://freebsdfoundation.org/our-work/journal/browser-based-edition/configuration-management-2/)和[July/August 2024](https://freebsdfoundation.org/our-work/journal/browser-based-edition/storage-and-filesystems/)。

#### 法律/FreeBSD知识产权

基金会拥有FreeBSD商标，负责保护这些商标。我们还为核心团队提供法律支持，调查可能出现的问题。

请访问[https://freebsdfoundation.org](https://freebsdfoundation.org/)了解更多关于我们如何支持FreeBSD以及如何帮助您的信息！

---

### FreeBSD发布工程团队

链接：
[FreeBSD 13.4-RELEASE公告](https://www.freebsd.org/releases/13.4R/announce/) URL：[https://www.freebsd.org/releases/13.4R/announce/](https://www.freebsd.org/releases/13.4R/announce/)
[FreeBSD 14.2-RELEASE计划](https://www.freebsd.org/releases/14.2R/schedule/) URL：[https://www.freebsd.org/releases/14.2R/schedule/](https://www.freebsd.org/releases/14.2R/schedule/)
[FreeBSD发行版](https://download.freebsd.org/releases/ISO-IMAGES/) URL：[https://download.freebsd.org/releases/ISO-IMAGES/](https://download.freebsd.org/releases/ISO-IMAGES/)
[FreeBSD开发快照](https://download.freebsd.org/snapshots/ISO-IMAGES/) URL：[https://download.freebsd.org/snapshots/ISO-IMAGES/](https://download.freebsd.org/snapshots/ISO-IMAGES/)

联系方式：FreeBSD发布工程团队，<[re@FreeBSD.org](mailto:re@FreeBSD.org)>

FreeBSD发布工程团队负责为FreeBSD项目的官方版本设定和发布发布计划，宣布代码冻结并维护相应的分支等任务。

该团队管理了13.4-RELEASE，并在9月发布了最终的RELEASE构建和公告。14.2-RELEASE周期的规划已开始。

发布工程团队继续为**main**、**stable/14**和**stable/13**分支提供每周的开发快照构建。

### 持续集成

链接：
[FreeBSD Jenkins实例](https://ci.freebsd.org/) URL: [https://ci.FreeBSD.org](https://ci.freebsd.org/)
[FreeBSD CI Tinderbox视图](https://tinderbox.freebsd.org/) URL: [https://tinderbox.freebsd.org](https://tinderbox.freebsd.org/)
[FreeBSD CI工件档案](https://artifact.ci.freebsd.org/) URL: [https://artifact.ci.FreeBSD.org](https://artifact.ci.freebsd.org/)
[托管CI Wiki](https://wiki.freebsd.org/HostedCI) URL: [https://wiki.FreeBSD.org/HostedCI](https://wiki.freebsd.org/HostedCI)
[第三方软件CI](https://wiki.freebsd.org/3rdPartySoftwareCI) URL: [https://wiki.FreeBSD.org/3rdPartySoftwareCI](https://wiki.freebsd.org/3rdPartySoftwareCI)
[与freebsd-testing@相关的票据](https://bugs.freebsd.org/bugzilla/buglist.cgi?bug_status=%3Cem%3Eopen%3C/em%3E&email1=testing%40FreeBSD.org&emailassigned_to1=1&emailcc1=1&emailtype1=equals) URL: [https://bugs.freebsd.org/bugzilla/buglist.cgi?bug_status=](https://bugs.freebsd.org/bugzilla/buglist.cgi?bug_status=%3Cem%3Eopen%3C/em%3E&email1=testing%40FreeBSD.org&emailassigned_to1=1&emailcc1=1&emailtype1=equals)?*[open](https://bugs.freebsd.org/bugzilla/buglist.cgi?bug_status=%3Cem%3Eopen%3C/em%3E&email1=testing%40FreeBSD.org&emailassigned_to1=1&emailcc1=1&emailtype1=equals)*?[&amp;email1=testing%40FreeBSD.org&amp;emailassigned_to1=1&amp;emailcc1=1&amp;emailtype1=equals](https://bugs.freebsd.org/bugzilla/buglist.cgi?bug_status=%3Cem%3Eopen%3C/em%3E&email1=testing%40FreeBSD.org&emailassigned_to1=1&emailcc1=1&emailtype1=equals)
[FreeBSD CI 仓库](https://github.com/freebsd/freebsd-ci) URL: [https://github.com/freebsd/freebsd-ci](https://github.com/freebsd/freebsd-ci)
[dev-ci 邮件列表](https://lists.freebsd.org/subscription/dev-ci) URL: [https://lists.FreeBSD.org/subscription/dev-ci](https://lists.freebsd.org/subscription/dev-ci)

联系方式：
Jenkins管理员 \<[jenkins-admin@FreeBSD.org](mailto:jenkins-admin@FreeBSD.org)\>
Li-Wen Hsu \<[lwhsu@FreeBSD.org](mailto:lwhsu@FreeBSD.org)\>
[freebsd-testing 邮件列表](https://lists.freebsd.org/mailman/listinfo/freebsd-testing)
IRC #freebsd-ci 频道（EFNet）

在2024年第四季度，我们与项目贡献者和开发人员合作，解决他们的测试需求。同时，我们与外部项目和公司合作，通过更多地在FreeBSD上进行测试来增强他们的产品。

已完成的重要任务：

* 将主分支和stable/14构建环境更新至14.1-RELEASE

进行中的任务：

* 改进src/tests/ci工作，以支持运行测试套件
* 合并[Pre-commit CI与CIRRUS-CI](https://reviews.freebsd.org/D36257)
* 设计并实施预提交CI构建和测试以及基于拉取请求/合并请求的系统（以支持[工作流工作组](https://gitlab.com/bsdimp/freebsd-workflow)）
* 概念验证系统正在进行中。
* 设计并实施使用CI集群构建发布工件，像发布工程一样，从快照构建开始
* 简化CI/测试环境设置，以便贡献者和开发人员使用
* 设置CI阶段环境并将实验性任务放入其中
* 重新设计硬件测试实验室并增加更多测试硬件

开放或待处理的任务：

* 收集并整理[CI任务和想法](https://hackmd.io/@FreeBSD-CI/freebsd-ci-todo)
* 设置虚拟机客机的公共网络访问，用于运行测试
* 实施使用裸金属硬件运行测试套件
* 添加针对-CURRENT的drm端口构建测试
* 帮助更多软件在其CI管道中获得FreeBSD支持（Wiki页面：[3rdPartySoftwareCI](https://wiki.freebsd.org/3rdPartySoftwareCI)，[HostedCI](https://wiki.freebsd.org/HostedCI)）
* 与托管CI提供商合作，改善FreeBSD支持

请参阅[freebsd-testing@相关票据](https://bugs.freebsd.org/bugzilla/buglist.cgi?bug_status=%3Cem%3Eopen%3C/em%3E&email1=testing%40FreeBSD.org&emailassigned_to1=1&emailcc1=1&emailtype1=equals)获取更多WIP信息，并欢迎加入我们的努力！

赞助：FreeBSD基金会


### Ports 集合

链接：
[关于 FreeBSD Ports](https://www.freebsd.org/ports/) URL: [https://www.FreeBSD.org/ports/](https://www.freebsd.org/ports/)
[贡献到 Ports](https://docs.freebsd.org/en/articles/contributing/#ports-contributing) URL: [https://docs.freebsd.org/en/articles/contributing/#ports-contributing](https://docs.freebsd.org/en/articles/contributing/#ports-contributing)
[Ports 管理团队](https://www.freebsd.org/portmgr/) URL: [https://www.freebsd.org/portmgr/](https://www.freebsd.org/portmgr/)
[Ports Tarball](http://ftp.freebsd.org/pub/FreeBSD/ports/ports/) URL: [http://ftp.freebsd.org/pub/FreeBSD/ports/ports/](http://ftp.freebsd.org/pub/FreeBSD/ports/ports/)

联系方式：
Tobias C. Berner \<[portmgr-secretary@FreeBSD.org](mailto:portmgr-secretary@FreeBSD.org)\>
FreeBSD Ports 管理团队 \<[portmgr@FreeBSD.org](mailto:portmgr@FreeBSD.org)\>

Ports 管理团队负责管理 Ports 树的整体方向、构建软件包和人员相关事宜。以下是上个季度的相关动态。

根据 INDEX，目前 Ports 集合中共有 36,504 个 port。目前约有 3,379 个开放的 ports PR。上个季度中，154 位提交者在主分支上进行了 11,594 次提交，78 位提交者在 2024Q3 分支上进行了 832 次提交。与上一季度相比，主分支的提交量略有增加（从 10,525 次增加），季度分支的回退量约为上季度的一半（相比 1,771 次）。Ports 数量也有所增加（从 32,471 增至当前数量）。

在主分支中最活跃的提交者是：

* 5133 次 [sunpoet@FreeBSD.org](mailto:sunpoet@FreeBSD.org)
* 1262 次 [yuri@FreeBSD.org](mailto:yuri@FreeBSD.org)
* 375 次 [jbeich@FreeBSD.org](mailto:jbeich@FreeBSD.org)
* 357 次 [vvd@FreeBSD.org](mailto:vvd@FreeBSD.org)
* 331 次 [bofh@FreeBSD.org](mailto:bofh@FreeBSD.org)
* 192 次 [uzsolt@FreeBSD.org](mailto:uzsolt@FreeBSD.org)
* 185 次 [eduardo@FreeBSD.org](mailto:eduardo@FreeBSD.org)
* 172 次 [diizzy@FreeBSD.org](mailto:diizzy@FreeBSD.org)
* 148 次 [mfechner@FreeBSD.org](mailto:mfechner@FreeBSD.org)
* 131 次 [arrowd@FreeBSD.org](mailto:arrowd@FreeBSD.org)

在过去三个季度，ports 树中发生了许多变化，以下是一些主要软件的升级：

* PostgreSQL 默认版本切换至 16
* Chromium 从 126.0.6478.126 更新至 129.0.6668.100
* Firefox 从 127.0.2 更新至 131.0-rc1
* Firefox-ESR 从 115.9.1 更新至 128.3.0-rc1
* Rust 从 1.79.0 更新至 1.81.0
* SDL2 从 2.30.3 更新至 2.30.7
* Wlroots 从 0.17.4 更新至 0.18.1
* Wine-devel 从 9.4 更新至 9.16
* Qt5 从 5.15.14 更新至 5.15.15
* Qt6 从 6.7.2 更新至 6.7.3
* Plasma6 从 6.1.1 更新至 6.1.2

在上个季度，pkgmgr@进行了 24 次实验运行，以测试各种 ports 升级、ports 默认版本更新和基础系统的更改。


### Bugmeister 团队

链接：
[FreeBSD Bugzilla](https://wiki.freebsd.org/Bugzilla) URL: [https://wiki.freebsd.org/Bugzilla](https://wiki.freebsd.org/Bugzilla)

联系方式：
Bugmeister \<[bugmeister@FreeBSD.org](mailto:bugmeister@FreeBSD.org)\>

#### 图表和统计图

[FreeBSD Foundation 的 Ed Maste](mailto:emaste@FreeBSDFoundation.org) 对在 Bugzilla 上增加更多有用的图表表示了兴趣。我们目前拥有的图表信息量有限。尽管许多[有趣的 Bugzilla 查询](https://wiki.freebsd.org/Bugzilla/SearchQueries)已经被记录下来，但其中的信息较为密集。

如果您有兴趣参与该任务，请直接联系 Ed。

#### Bugzilla 版本升级

最近，Bugzilla 上游发布了 5.0.4.1 版本，这是一个小的错误修复版本。初步工作表明更新不会带来较大影响。工作仍在进行中。

#### PR 统计

PRs（问题报告）不断提交并进行分类。长期来看，我们几乎达到了稳定状态。

过去一个季度（和年度）PR 数量有所波动。Vladimir Druzenko 指出，在 2023 年第四季度，PR 数量减少了约 200 个（我们尚未进行数据分析以找出原因）。不过，目前数量逐渐恢复到一年前的水平。而且我们似乎在更快速地关闭新提交的 PRs。参考链接：

[https://bugs.freebsd.org/bugzilla/page.cgi?id=dashboard.html&amp;days=365](https://bugs.freebsd.org/bugzilla/page.cgi?id=dashboard.html&days=365)

PR 的总数仍然略超过 11,600 个，我们确实存在很多技术债务。

Bugmeister 还在努力重启 [Bugathons](https://wiki.freebsd.org/Bugathons)。

#### 致谢

Bugmeister 团队要感谢许多参与 Bug 修复的人，包括新加入的分级人员 Alexander Vereeken、Alexander Ziaee 和 Frederick Lee。

### FreeBSD Samba 团队

链接：
[FreeBSD Samba 团队 Wiki](https://wiki.freebsd.org/Samba) URL: [https://wiki.freebsd.org/Samba](https://wiki.freebsd.org/Samba)
[Samba 官方主页](https://www.samba.org/) URL: [https://www.samba.org/](https://www.samba.org/)

联系方式：
FreeBSD Samba 团队 \<[samba@FreeBSD.org](mailto:samba@FreeBSD.org)\>

Samba 提供了使用 SMB/CIFS 协议的客户端的安全、稳定和快速的文件和打印服务。它是将 FreeBSD/Linux/Unix 服务器和桌面无缝集成到 Active Directory 环境中的重要组件。Samba 可以作为域控制器，也可以作为常规域成员。

新的 FreeBSD Samba 团队的创建旨在更好地协调 Samba 端口及其依赖项的维护工作，特别是以下内容：

* [databases/ldb22](https://cgit.freebsd.org/ports/tree/databases/ldb22/)
* [databases/ldb25](https://cgit.freebsd.org/ports/tree/databases/ldb25/)
* [databases/ldb28](https://cgit.freebsd.org/ports/tree/databases/ldb28/)
* [databases/tdb](https://cgit.freebsd.org/ports/tree/databases/tdb/)
* [devel/talloc](https://cgit.freebsd.org/ports/tree/devel/talloc/)
* [devel/tevent](https://cgit.freebsd.org/ports/tree/devel/tevent/)
* [net/samba416](https://cgit.freebsd.org/ports/tree/net/samba416/)
* [net/samba419](https://cgit.freebsd.org/ports/tree/net/samba419/)


上季度的重要变化包括：

* [Timur Bakeyev](mailto:timur@FreeBSD.org)、[Xavier Beaudouin](mailto:kiwi@oav.net)、[Yasuhiro Kimura](mailto:yasu@freebsd.org)、[Mateusz Piotrowski](mailto:0mp@FreeBSD.org) 和 [Mikaël Urankar](mailto:mikael@FreeBSD.org) 成立了 FreeBSD Samba 团队。
* 在 Mk/Uses/samba.mk 中增加了 `SAMBA_LDB_PORT`（由 Klara, Inc. 赞助）。
* 切换 [net/samba419](https://cgit.freebsd.org/ports/tree/net/samba419/) 默认使用外部依赖项而非内部集成（由 Klara, Inc. 赞助）。
* 将 [net/samba419](https://cgit.freebsd.org/ports/tree/net/samba419/) 更新至 4.19.8 版本。

目前，FreeBSD Samba 团队正在以下领域开展协作：

* 将 Samba 的默认版本从 4.16 切换到 4.19（[Bugzilla PR#280769](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=280769)）。
* 当前的阻碍因素包括：
   * `fruit:posix_rename = yes` 功能损坏（[Bugzilla PR#281360](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=281360)）。
   * Samba 4.19.8\_1 中的复制功能损坏（[Bugzilla PR#281672](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=281672)）。
* 在 ports 树中添加 Samba 4.20（[Bugzilla PR#280533](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=280533)）。
* 在 ports 树中添加 Samba 4.21（[Bugzilla PR#281262](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=281262)）。

欢迎测试和社区贡献，请通过 Bugzilla 或团队电子邮件联系我们。

---

## 项目

涵盖多个类别的项目，从内核和用户空间到 Ports Collection 或外部项目。

### 音频栈改进

联系方式：Christos Margiolis \<[christos@FreeBSD.org](mailto:christos@FreeBSD.org)\>

FreeBSD 的音频栈相较于其他领域缺乏关注和开发，长期以来基本未得到维护，尽管质量较高，但仍有改进空间——从缺乏音频开发框架，到缺少用户空间实用工具和内核驱动相关的错误。本项目旨在覆盖这些方面，更像是一个通用改进项目，而非具体功能的实现。

自[上次报告](https://www.freebsd.org/status/report-2024-04-2024-06/#_audio_stack_improvements)以来的重要工作：

* 修复了多个 [sound(4)](https://man.freebsd.org/cgi/man.cgi?query=sound&sektion=4&format=html) 的问题。
* 编写了 [mixer(8)](https://cgit.freebsd.org/src/tree/usr.sbin/mixer/tests) 和 [sound(4)](https://cgit.freebsd.org/src/tree/tests/sys/sound) 测试。
* [mixer(8)：实现热插拔支持](https://cgit.freebsd.org/src/commit/?id=9aac27599acaffa21ff69c5be8a2d71d29cc3d6b)。
* [audio(8)：初始版本](https://reviews.freebsd.org/D46227)。
* [sound：实现虚拟驱动程序](https://cgit.freebsd.org/src/commit/?id=c15c9315b2cb7601cc337f7d5a8e124f4b2d5861)。
* 改进并增加了[sound 示例](https://cgit.freebsd.org/src/tree/share/examples/sound)。
* [mididump(1)：初始版本](https://reviews.freebsd.org/D46418)。
* virtual_oss 补丁。
* 在 2024 年 9 月于爱尔兰都柏林举行的 DevSummit 上进行了演讲。

未来工作包括：

* 更多错误修复和改进。
* 完成并提交 [audio(8)](https://man.freebsd.org/cgi/man.cgi?query=audio&sektion=8&format=html) 和 [mididump(1)](https://man.freebsd.org/cgi/man.cgi?query=mididump&sektion=1&format=html)。
* 实现通用的 MIDI 层，类似于 pcm/，并全面改进和现代化 MIDI 代码库。
* 实现蓝牙设备管理工具。
* 更多 virtual_oss 补丁和改进。
* 尝试实现 [snd_hda(4)](https://man.freebsd.org/cgi/man.cgi?query=snd_hda&sektion=4&format=html) 引脚补丁机制。
* 调查支持 SOF/DMIC 的可能性。

您也可以关注 [freebsd-multimedia@](https://lists.freebsd.org/subscription/freebsd-multimedia) 邮件列表，我会在上面定期发布进展报告。

赞助方：FreeBSD 基金会


### 用 Freepascal/Lazarus 编写的 bhyve 管理 GUI

链接:
[Bhyvemgr](https://github.com/alonsobsd/bhyvemgr) URL: [https://github.com/alonsobsd/bhyvemgr/](https://github.com/alonsobsd/bhyvemgr/)

联系人: José Alonso Cárdenas Márquez \<[acm@FreeBSD.org](mailto:acm@FreeBSD.org)\>

Bhyvemgr 是一个在 FreeBSD 上用 Freepascal/Lazarus 编写的 bhyve 管理图形界面 (GUI)。它需要许多由系统自带工具安装的程序，还有一些通过 ports/packages 安装。其主要目标是成为桌面应用程序，方便桌面用户在 FreeBSD 主机上快速、轻松地设置和运行虚拟机。

它应被用于虚拟机测试目的（而非生产环境）。如果您需要生产环境中的虚拟机管理工具，请参考 [sysutils/vm-bhyve](https://cgit.freebsd.org/ports/tree/sysutils/vm-bhyve/)、[sysutils/bmd](https://cgit.freebsd.org/ports/tree/sysutils/bmd/) 或 [sysutils/cbsd](https://cgit.freebsd.org/ports/tree/sysutils/cbsd/)。

Bhyvemgr 支持 15-CURRENT 的 aarch64 版本和 FreeBSD 13.x 至 15-CURRENT 的 amd64 版本。可以通过 ports 安装 [sysutils/bhyvemgr](https://cgit.freebsd.org/ports/tree/sysutils/bhyvemgr/)，也可以作为带有 gtk2、qt5 或 qt6 界面支持的包安装。

欢迎对项目感兴趣的人提供帮助。

2024 年第三季度末版本: 1.1.0

待办事项

* 在真实 aarch64 硬件上测试
* 添加 uart 设备支持
* 增加缺少的全局设置条目（bios、board、chassis、system）

---

### dhclient 的更改以加速 FreeBSD 启动过程

链接:
[加速 FreeBSD 启动过程](https://wiki.freebsd.org/SummerOfCode2024Projects/SpeedingUpTheFreeBSDBootProcess) URL: [https://wiki.freebsd.org/SummerOfCode2024Projects/SpeedingUpTheFreeBSDBootProcess](https://wiki.freebsd.org/SummerOfCode2024Projects/SpeedingUpTheFreeBSDBootProcess)

[dhclient 拉取请求](https://github.com/freebsd/freebsd-src/pull/1368) URL: [https://github.com/freebsd/freebsd-src/pull/1368](https://github.com/freebsd/freebsd-src/pull/1368)

联系人: Isaac Cilia Attard \<[icattard@FreeBSD.org](mailto:icattard@FreeBSD.org)\>

作为我 2024 年 Google 编程之夏项目的一部分，我致力于加速 FreeBSD 的启动过程，其中包括减少 dhclient 中的 ARP 解析时间。这涉及将默认的 ARP 解析超时时间从 2000 毫秒降低到 250 毫秒，并增加一个完全禁用该功能的选项。后者在云环境中尤为有用，因为节点通常已分配 IP 地址。

因此，现在连接到 DHCP 网络的速度加快了，包括在启动过程中所需的时间。所实现的加速约为 2 秒。

这使得 FreeBSD 系统的启动速度比以前显著提高。

赞助商: Google LLC (GSoC 2024)


### Capsicum 和 Bhyve 代码审计

联系人: Ed Maste \<[emaste@FreeBSD.org](mailto:emaste@FreeBSD.org)\> 联系人: Pierre Pronchery \<[pierre@freebsdfoundation.org](mailto:pierre@freebsdfoundation.org)\>

在 [Alpha-Omega 项目](https://alpha-omega.dev/)的支持下，FreeBSD 基金会对两个重要子系统——bhyve 虚拟机管理器和 Capsicum 沙箱框架——进行了代码审计。除了发现这些系统中的漏洞并加以修复外，审计还旨在识别漏洞类型和/或代码实践不足之处，以便在整个项目中进行改进。

基金会面试了几家公司，并选择 Synacktiv 进行审计。审计中发现了一些严重性较高的问题，已在安全公告中修复：

* [FreeBSD-SA-24:09.libnv](https://www.freebsd.org/security/advisories/FreeBSD-SA-24:09.libnv.asc)
* [FreeBSD-SA-24:10.bhyve](https://www.freebsd.org/security/advisories/FreeBSD-SA-24:10.bhyve.asc)
* [FreeBSD-SA-24:11.ctl](https://www.freebsd.org/security/advisories/FreeBSD-SA-24:11.ctl.asc)
* [FreeBSD-SA-24:12.bhyve](https://www.freebsd.org/security/advisories/FreeBSD-SA-24:12.bhyve.asc)
* [FreeBSD-SA-24:14.umtx](https://www.freebsd.org/security/advisories/FreeBSD-SA-24:14.umtx.asc)
* [FreeBSD-SA-24:15.bhyve](https://www.freebsd.org/security/advisories/FreeBSD-SA-24:15.bhyve.asc)
* [FreeBSD-SA-24:16.libnv](https://www.freebsd.org/security/advisories/FreeBSD-SA-24:16.libnv.asc)

针对一些低严重性的问题，修复工作正在进行中。代码审计报告将在处理完一定严重性以上的问题后发布。FreeBSD 基金会还将发布一份报告，其中包括对 Synacktiv 代码审计报告的影响评估、发现的漏洞类型以及总结的经验教训。

更多信息请参考 [Alpha-Omega 仓库](https://github.com/ossf/alpha-omega/tree/main/alpha/engagements/2024/FreeBSD)。

赞助商: FreeBSD 基金会

---

### 端点独立 NAT

联系人: Tom Jones \<[thj@freebsd.org](mailto:thj@freebsd.org)\>

此项目旨在为 pf 和 ipfw 防火墙添加对 UDP 的端点独立映射支持。

端点独立 NAT 允许位于 NAT 后面的应用程序与多个远程主机通信时保持相同的映射。这使得没有 NAT 穿越机制的应用程序也能够绕过 NAT 问题以进行对等发现。从远程主机的角度来看，NAT 是透明的，就像没有 NAT 一样。这种形式的 NAT 在过去几十年中有多种名称，也称为“全锥形” NAT。

9 月初，Damjan Jovanovic 和 Naman Sood 的工作成果在 pf 上被应用，补丁增加了一个新的“端点独立”后缀，用于 UDP pf nat 规则。

ipfw 对端点独立的支持将通过 libalias 提供，任何使用 libalias 进行地址转换的系统都将受益于此更改。正在进行的审查 [D46689](https://reviews.freebsd.org/D46689) 将为 libalias 增加支持。

此更改和已提交的 pf 更改均可通过在更多不同环境中进行测试而受益。

赞助商: FreeBSD 基金会 赞助商: Tailscale



