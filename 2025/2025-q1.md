# FreeBSD 2025 年第一季度状态报告

- 原文地址：[FreeBSD Status Report First Quarter 2025](https://www.freebsd.org/status/report-2025-01-2025-03/)

这是 2025 年的首份状态报告，共包含 40 篇报告。

随着我们迈入新的一年，FreeBSD 社区依然以坚定的速度、明确的目标和充沛的热情持续前行。

第一季度成果显著，众多报告展示了各领域的进展。通过论坛、邮件列表和交流参与社区，我见证了许多进展，远非一份季度报告所能完全覆盖。

我们向所有提交报告并帮助提高我们工作可见度的人员致以衷心的感谢。你们的贡献对于展示我们的集体努力具有不可估量的价值。

让我们在 2024 年成功的基础上，再接再厉，让 2025 成为 FreeBSD 和我们社区有史以来最出色的一年！

Chris Moerz

状态报告小组

## FreeBSD 团队报告

来自 [管理页面](https://www.freebsd.org/administration/) 中各官方及半官方团队的报告。


### FreeBSD 核心团队（Core Team）

联系方式：FreeBSD 核心团队（[core@FreeBSD.org](mailto:core@FreeBSD.org)）

FreeBSD 核心团队是 FreeBSD 项目的管理机构。

#### 项目路线图

核心团队正在收集意见和建议，以起草项目的路线图。这是第十三届核心团队认为值得从第十二届核心团队继续推进的事项。这个路线图并不是用来限制开发者和贡献者能做什么，而是汇总项目的目标和预期，以及社区可以协作完成的事务。这也将有助于 FreeBSD 基金会更有效地支持项目，因此，这是核心团队与 FreeBSD 基金会会议中的一个重要讨论议题。

#### 正在进行的工作

目前核心团队正在推进以下事项：

* 有关生成式 AI 所创作的代码与文档的政策
* 核心团队与 FreeBSD 基金会正合作准备 2025 年版社区调查
* 基金会提出的隐私友好的网页分析服务

### FreeBSD 基金会（FreeBSD Foundation）

链接：

[FreeBSD 基金会](https://freebsdfoundation.org/)

[技术路线图](https://freebsdfoundation.org/blog/technology-roadmap/)

[捐赠](https://freebsdfoundation.org/donate/)

[基金会合作伙伴计划](https://freebsdfoundation.org/our-donors/freebsd-foundation-partnership-program/)

[FreeBSD Journal](https://freebsdfoundation.org/journal/)

[基金会活动](https://freebsdfoundation.org/our-work/events/)

联系方式：Deb Goodkin（[deb@FreeBSDFoundation.org](mailto:deb@FreeBSDFoundation.org)）

FreeBSD 基金会是一家依据美国 501(c)(3) 条款注册的非营利组织，致力于通过技术和非技术支持推动 FreeBSD 的发展。基金会完全依靠捐赠资金运作，支持软件开发、基础设施、安全以及协作项目；组织活动与开发者峰会；提供教育资源；并在法律事务中代表 FreeBSD 项目。本报告仅涵盖了我们在第一季度支持 FreeBSD 的部分方式。

我是 Deb Goodkin。已经是第二季度了吗？上一季度我们在支持 FreeBSD 项目和社区方面活动频繁、节奏飞快。在本报告中，我们将重点介绍我们目前正在进行的工作，以确保从长远来看 FreeBSD 依然可持续且安全。

如你所知，基金会通过多种方式支持项目，包括软件开发、安全、法律事务、会议以及基础设施等。我希望本节保持简短，因为本次状态报告中还有更多详细报告介绍我们的各项工作。

以下是我们上季度部分工作的数字概况：

* 2024 年筹得资金（最终金额在 2 月或 3 月确定）：\$1,524,259
* 2025 年第一季度筹款：\$211,000
* 正在进行的软件开发项目数：20+
* 提交次数：456
* 发布的技术内容数量：8
* 资助/参与的会议：2
* 基金会正式员工人数：7
* 基金会外包人员数量：19
* 基金会成立 25 周年：我们非常高兴地庆祝支持 FreeBSD 项目和社区的第 25 个年头！

令人振奋的消息：Mark Phillips 加入基金会，担任技术营销经理。请期待更多实用的信息和技术内容！我们还招募了一位新的兼职开发人员，担任解决方案专家角色，将很快公布具体人选。

#### 宣传推广

在 2025 年第一季度，基金会继续推进支持和推广 FreeBSD 的工作。除了我们的一贯活动，比如发布教育性和信息性内容、参加活动，以及提供旅行补助帮助 FreeBSD 贡献者参与会议，我们还迎来了一位新成员。Mark Phillips 于 3 月加入，担任技术市场经理。拥有工程背景并热衷于讲故事的 Mark 自称是“受训成工程师，机缘巧合成市场人”。他已经与 FreeBSD 社区建立了联系，我们很期待他未来带来的积极影响。如需了解 Mark 的更多信息，请访问我们的 [团队页面](https://freebsdfoundation.org/about-us/our-team/)。

我们在 2025 年第一季度的其他宣传亮点包括：

* 协助在 FOSDEM 2025 上代表 FreeBSD。查看 [旅行报告](https://freebsdfoundation.org/blog/advocating-for-freebsd-a-fosdem-2025-trip-report/)。
* 开始筹划将于 2025 年 6 月 11-12 日举行的 [FreeBSD 开发者峰会](https://wiki.freebsd.org/DevSummit/202506)，该峰会与 [BSDCan 2025](https://www.bsdcan.org/2025) 同地举办。目前注册已开放。
* 完成 BSDCan 银级赞助，并开放了 [BSDCan 2025 差旅资助申请](https://freebsdfoundation.org/what-we-do/grants/travel-grants/)。
* 发布了关于我们软件开发工作的更新与公告，包括：
  * [FreeBSD 的零信任构建](https://freebsdfoundation.org/blog/zero-trust-builds-for-freebsd/)
  * [对 FreeBSD CI/CD 系统的改进](https://freebsdfoundation.org/blog/improvements-to-the-freebsd-ci-cd-systems/)
  * [笔记本支持与可用性项目更新：第一期月报及社区倡议](https://freebsdfoundation.org/blog/laptop-support-and-usability-project-update-first-monthly-report-community-initiatives/)
  * [2025 年 1 月笔记本支持与可用性项目进展](https://freebsdfoundation.org/blog/january-2025-laptop-support-and-usability-project-update/)
  * [2025 年 2 月笔记本支持与可用性项目进展](https://freebsdfoundation.org/blog/february-2025-laptop-support-and-usability-project-update/)
  * [OpenZFS RAID-Z 扩展：存储灵活性的新时代](https://freebsdfoundation.org/blog/openzfs-raid-z-expansion-a-new-era-in-storage-flexibility/)
* 参与了 CHAOSScast 的一期节目：FreeBSD 上的 GrimoireLab。详情请参阅：[从混乱到清晰：我们是如何处理 FreeBSD 的 7000 个 Bug 积压问题的](https://freebsdfoundation.org/blog/from-chaos-to-clarity-how-we-tackled-freebsds-7000-bug-backlog/)
* 发布了 [2025 年 1 月](https://freebsdfoundation.org/news-and-events/newsletter/19851/) 与 [2 月](https://freebsdfoundation.org/news-and-events/newsletter/february-2025-newsletter/) 的 FreeBSD 基金会通讯。
* 发布了 [2024 年 11/12 月](https://freebsdfoundation.org/our-work/journal/browser-based-edition/virtualization-2/) 的 FreeBSD 期刊，提供 HTML 格式的文章。

#### 改进操作系统

FreeBSD 基金会在本季度继续支持两个主要项目。

基金会的笔记本支持与可用性项目于 2024 年第四季度启动，由 FreeBSD 基金会和 [Quantum Leap Research](https://www.ql-research.com/) 联合资助，总预算为 75 万美元，预计使用周期为一到两年。该项目的目标是交付一份公开的路线图，改善 WiFi、音频可用性、挂起与恢复、图形、蓝牙等关键功能，并提供清晰的文档和分步骤指南，帮助用户使用这些新功能。本季度完成的工作包括：改进 pkg 软件包管理器与 pkgbase 安装、挂起/恢复、USB 调试、新 WiFi 标准与驱动、更新图形驱动、异构核心下的性能与效率优化、虚拟与非标准音频设备支持、整合 UVC 摄像头驱动的捐赠代码。详情见以下专项报告条目：

* [改进音频栈](https://www.freebsd.org/status/report-2025-01-2025-03/#_audio_stack_improvements)
* [pkgbase 自动化转换工具](https://www.freebsd.org/status/report-2025-01-2025-03/#_automatic_pkgbase_conversion_tool)
* [DRM 驱动](https://www.freebsd.org/status/report-2025-01-2025-03/#_drm_drivers)
* [更新 LinuxKPI 802.11 无线](https://www.freebsd.org/status/report-2025-01-2025-03/#_linuxkpi_802_11_wireless_update)
* [改进挂起/恢复](https://www.freebsd.org/status/report-2025-01-2025-03/#_suspendresume_improvement)
* [更新无线](https://www.freebsd.org/status/report-2025-01-2025-03/#_wireless_update)

另一个主要项目由 [主权技术基金](https://www.sovereign.tech/) 委托，旨在对 FreeBSD 基础设施进行现代化改造。欲了解该项目及本季度的更新内容，请参阅 [基础设施现代化报告条目](https://www.freebsd.org/status/report-2025-01-2025-03/#_infrastructure_modernization)。

另外还有三个项目的更新已单独列入报告条目：

* [改进 FreeBSD 上的 OpenJDK](https://www.freebsd.org/status/report-2025-01-2025-03/#_improve_openjdk_on_freebsd)
* [Sylve——一款统一的 FreeBSD 系统管理平台](https://www.freebsd.org/status/report-2025-01-2025-03/#_sylvea_unified_system_management_platform_for_freebsd)
* [视力无障碍与无障碍手册](https://www.freebsd.org/status/report-2025-01-2025-03/#_vision_accessibility_accessibility_handbook)

总计有 346 个 `src`、96 个 `ports` 和 14 个 `doc` 树的提交标明由 FreeBSD 基金会赞助。部分示例如下：

* 对 SMBIOS 处理的增强，包括优先使用版本 3（64 位）入口点、增加诊断信息、提升代码健壮性
* 在 VM 初始化早期优化内存使用的持续工作
* 持续开发对异构 CPU 核心的支持
* 启用对 Allwinner D1 SoC 的 USB 驱动支持
* 改进 [makefs(8)](https://man.freebsd.org/cgi/man.cgi?query=makefs&sektion=8&format=html)，以生成可重现的 `cd9660` 映像

基金会正在管理 FreeBSD 参与 [谷歌编程之夏](https://summerofcode.withgoogle.com/) 项目。截至 2 月底，我们欣喜地获悉 FreeBSD 再次被选为 2025 谷歌编程之夏的导师组织，这是我们连续第 21 年参与该项目。我们共收到 64 份申请，将于 5 月 8 日公布最终获选项目。

#### 持续集成与工作流程改进

作为对 FreeBSD 项目的持续支持的一部分，基金会资助了一名全职员工，专注于 [改进项目的持续集成系统与测试基础设施](https://www.freebsd.org/status/report-2025-01-2025-03/#_ci)。

#### 法律/FreeBSD 知识产权

基金会持有 FreeBSD 商标，并负责其保护工作。我们还为核心团队提供法律支持，协助其处理各类法律问题。

请访问 [https://freebsdfoundation.org](https://freebsdfoundation.org/) 了解我们如何支持 FreeBSD，以及我们如何能帮助你。

### FreeBSD 发布工程团队

链接：

[FreeBSD 13.5-RELEASE 公告](https://www.freebsd.org/releases/13.5R/announce/)

[FreeBSD 14.3-RELEASE 计划表](https://www.freebsd.org/releases/14.3R/schedule/)

[FreeBSD 各版本下载](https://download.freebsd.org/releases/ISO-IMAGES/)

[FreeBSD 开发快照](https://download.freebsd.org/snapshots/ISO-IMAGES/)

联系方式：FreeBSD 发布工程团队， [re@FreeBSD.org](mailto:re@FreeBSD.org)

FreeBSD 发布工程团队负责制定和发布 FreeBSD 项目的正式版本时间表、发布代码冻结公告以及维护相应的分支等工作。

该团队完成了 13.5-RELEASE 的管理工作，并于 3 月正式构建并发布了该版本；这是来自旧版 **stable/13** 分支的最后一个正式版本。目前已经开始筹备即将到来的 14.3-RELEASE 发布周期。

发布工程团队还继续为 **main**、**stable/14** 和 **stable/13** 分支提供每周的开发快照构建。


### 集群管理团队

链接：

[集群管理团队成员](https://www.freebsd.org/administration/#t-clusteradm)

联系方式：集群管理团队 [clusteradm@FreeBSD.org](mailto:clusteradm@FreeBSD.org)

FreeBSD 集群管理团队负责维护项目赖以进行分布式协作与通信的所有机器系统。

本季度，团队完成了以下工作：

* 为 FreeBSD.org 用户账户提供常规支持。
* 为所有物理主机和镜像站点提供常规磁盘与硬件维护与更换支持。
* 集群软件升级。
* 将更多集群服务迁移至芝加哥。
* 支持 Grimoirelab 仪表板项目。
* 协调社区镜像站点。

#### 集群服务迁移至芝加哥

我们于 2024 年开始在芝加哥搭建新站点，目标是将芝加哥设为主站点。自 2024 年第 4 季度起，我们开始退役位于新泽西的老旧机器，并将服务迁移至芝加哥的新设备。在 2025 年第 1 季度，我们启动了集群关键服务的升级和在芝加哥的部署测试。

#### 镜像 Git Web 界面

尽管项目的公共只读 Git 仓库通过全球分布的镜像构建，但其 Web 界面（cgit）并未镜像。我们注意到访问该界面的需求不断增加。为了提高响应速度和可靠性，我们已在全球多个镜像站点部署了 cgit 服务。

#### FreeBSD 官方镜像站点

目前的镜像站点分布于：澳大利亚、巴西、德国、日本（两个完整镜像站点）、马来西亚、南非、瑞典、台湾、英国（完整镜像站点）和美国（加州、芝加哥、新泽西〔主站点〕、华盛顿）。

我们位于台湾的镜像站点当前处于长期离线状态，恢复工作正在进行中。我们希望能在 2025 年第 2 季度将其恢复上线。

硬件与网络连接由以下机构慷慨赞助提供：

* [BroadBand Tower, Inc.](https://www.bbtower.co.jp/en/corporate/) — Cloud and SDN 实验室
* [阳明交通大学资讯工程学系](https://www.cs.nycu.edu.tw/)
* [Equinix](https://deploy.equinix.com/)
* [澳大利亚互联网协会](https://internet.asn.au/)
* [Internet Systems Consortium](https://www.isc.org/)
* [INX-ZA](https://www.inx.net.za/)
* [KDDI Web Communications Inc](https://www.kddi-webcommunications.co.jp/english/)
* [马来西亚研究与教育网络](https://www.mohe.gov.my/en/services/research/myren)
* [MetaPeer](https://www.metapeer.com/)
* [New York Internet](https://www.nyi.net/)
* [NIC.br](https://nic.br/)
* [Sonic](https://sonic.net/)
* [Teleservice Skåne AB](https://www.teleservice.net/)
* [Your.Org](https://your.org/)

我们始终欢迎新的官方镜像加入。我们注意到，在互联网交换点（IXP）部署单个镜像的优势明显，目前在澳大利亚、巴西和南非的镜像站点已验证了这一点。如果你所在的机构或你认识的组织愿意赞助部署单个镜像服务器，请联系我们。我们尤其欢迎在美国西海岸和欧洲各地部署新镜像。

参见 [通用镜像布局](https://wiki.freebsd.org/Teams/clusteradm/generic-mirror-layout) 以获取完整镜像站点规格说明，或访问 [tiny-mirror](https://wiki.freebsd.org/Teams/clusteradm/tiny-mirror) 了解单镜像站点配置方式。

赞助：FreeBSD 基金会

### 持续集成

链接：

[FreeBSD Jenkins 实例](https://ci.freebsd.org/) 链接：[https://ci.FreeBSD.org](https://ci.freebsd.org/)

[FreeBSD CI Tinderbox 视图](https://tinderbox.freebsd.org/) 链接：[https://tinderbox.freebsd.org](https://tinderbox.freebsd.org/)

[FreeBSD CI 构建产物归档](https://artifact.ci.freebsd.org/) 链接：[https://artifact.ci.FreeBSD.org](https://artifact.ci.freebsd.org/)

[托管 CI Wiki](https://wiki.freebsd.org/HostedCI) 链接：[https://wiki.FreeBSD.org/HostedCI](https://wiki.freebsd.org/HostedCI)

[第三方软件 CI](https://wiki.freebsd.org/3rdPartySoftwareCI) 链接：[https://wiki.FreeBSD.org/3rdPartySoftwareCI](https://wiki.freebsd.org/3rdPartySoftwareCI)

[与 freebsd-testing@ 相关的问题单](https://bugs.freebsd.org/bugzilla/buglist.cgi?bug_status=__open__&email1=testing%40FreeBSD.org&emailassigned_to1=1&emailcc1=1&emailtype1=equals) 链接：[https://bugs.freebsd.org/bugzilla/buglist.cgi?bug\_status=**open**\&email1=testing%40FreeBSD.org\&emailassigned\_to1=1\&emailcc1=1\&emailtype1=equals](https://bugs.freebsd.org/bugzilla/buglist.cgi?bug_status=__open__&email1=testing%40FreeBSD.org&emailassigned_to1=1&emailcc1=1&emailtype1=equals)

[FreeBSD CI 仓库](https://github.com/freebsd/freebsd-ci) 链接：[https://github.com/freebsd/freebsd-ci](https://github.com/freebsd/freebsd-ci)

[dev-ci 邮件列表](https://lists.freebsd.org/subscription/dev-ci) 链接：[https://lists.FreeBSD.org/subscription/dev-ci](https://lists.freebsd.org/subscription/dev-ci)

联系方式：Jenkins 管理员 [jenkins-admin@FreeBSD.org](mailto:jenkins-admin@FreeBSD.org)

联系方式：許立文 [lwhsu@FreeBSD.org](mailto:lwhsu@FreeBSD.org)

联系方式：[freebsd-testing 邮件列表](https://lists.freebsd.org/mailman/listinfo/freebsd-testing)

联系方式：IRC 上 EFNet 的 #freebsd-ci 频道

在 2025 年第一季度，我们与项目的贡献者和开发者合作，满足他们的测试需求。同时，我们也与外部项目和公司协作，通过在 FreeBSD 上进行更多测试以改进他们的产品。

已完成的重要任务：

* 添加构建 amd64 的 main、stable/14 和 stable/13 分支的 GCC 14 作业（由 jhb@ 提交）
* 与实习学生合作修复失败和被跳过的测试用例（由 lwhsu@ 提交）
* 升级并切换 Jenkins 服务器至 LTS 版本
* 参与 FreeBSD 基金会的 Sovereign Tech Agency（STA）C 包工作：改进项目的 CI/CD

进行中的任务：

* 设计并实现基于 pre-commit 的 CI 构建与测试系统和 Pull/Merge Request 支持系统（为 [工作流工作组](https://gitlab.com/bsdimp/freebsd-workflow) 提供支持）

  * 改进 **src/tests/ci** 以支持运行测试套件

    * 合并 [CI：添加完整测试支持](https://reviews.freebsd.org/D48015)
  * 合并 [使用 CIRRUS-CI 的 pre-commit CI](https://reviews.freebsd.org/D36257)
* 设计并实现使用 CI 集群来构建发布产物的流程，初期从快照构建开始，效仿发布工程流程
* 简化 CI/测试环境的配置，以便贡献者与开发者使用
* 设置 CI 暂存环境并部署实验性作业
* 重新设计硬件测试实验室并添加更多测试用硬件

待处理或排队中的任务：

* 整理和分类 [CI 任务与想法](https://hackmd.io/@FreeBSD-CI/freebsd-ci-todo)
* 为运行测试的 VM 来宾配置公网访问
* 实现使用裸机运行测试套件
* 添加对 drm-kmod Ports 在 -CURRENT 上构建的测试
* 帮助更多软件在其 CI 流水线中获得对 FreeBSD 的支持（Wiki 页面：[3rdPartySoftwareCI](https://wiki.freebsd.org/3rdPartySoftwareCI)、[HostedCI](https://wiki.freebsd.org/HostedCI)）
* 与托管 CI 提供方合作，提升对 FreeBSD 的支持质量

更多进行中的工作信息请参见 [freebsd-testing@ 相关的问题单](https://bugs.freebsd.org/bugzilla/buglist.cgi?bug_status=__open__&email1=testing%40FreeBSD.org&emailassigned_to1=1&emailcc1=1&emailtype1=equals)，欢迎加入我们的工作！

赞助：FreeBSD 基金会

### Ports

链接：

[关于 FreeBSD Ports](https://www.freebsd.org/ports/) 链接：[https://www.FreeBSD.org/ports/](https://www.freebsd.org/ports/)

[参与贡献 Ports](https://docs.freebsd.org/en/articles/contributing/#ports-contributing) 链接：[https://docs.freebsd.org/en/articles/contributing/#ports-contributing](https://docs.freebsd.org/en/articles/contributing/#ports-contributing)

[Ports 管理团队](https://www.freebsd.org/portmgr/) 链接：[https://www.freebsd.org/portmgr/](https://www.freebsd.org/portmgr/)

[Ports tarball](http://ftp.freebsd.org/pub/FreeBSD/ports/ports/) 链接：[http://ftp.freebsd.org/pub/FreeBSD/ports/ports/](http://ftp.freebsd.org/pub/FreeBSD/ports/ports/)

联系方式：Tobias C. Berner [portmgr-secretary@FreeBSD.org](mailto:portmgr-secretary@FreeBSD.org)

联系方式：FreeBSD Ports 管理团队 [portmgr@FreeBSD.org](mailto:portmgr@FreeBSD.org)

Ports 管理团队负责监督整个 Ports 树的发展方向、包构建以及相关人员事务。以下是上一季度的工作情况。

在上一季度，我们欢迎 Austin Shafer（ashafer@）成为新的 Ports 提交者，并欢迎 Eygene Ryabinkin（rea@）和 Mark Linimon（linimon@）回归。

根据 INDEX，目前 FreeBSD Ports 中共有 36,450 个软件（上季度为 36,332）。当前有大约 3,333 个开放的 Ports 问题单（上季度为 3,368），其中 887 个尚未指派。上季度 main 分支共有 158 位提交者提交了 10,733 次（上季度为 10,640），2025Q1 分支上有 54 位提交者提交了 707 次（上季度为 733）。

main 分支上最活跃的提交者为：

* 3029 次提交：[sunpoet@FreeBSD.org](mailto:sunpoet@FreeBSD.org)
* 1171 次提交：[yuri@FreeBSD.org](mailto:yuri@FreeBSD.org)
* 358 次提交：[vvd@FreeBSD.org](mailto:vvd@FreeBSD.org)
* 340 次提交：[bofh@FreeBSD.org](mailto:bofh@FreeBSD.org)
* 313 次提交：[rene@FreeBSD.org](mailto:rene@FreeBSD.org)
* 297 次提交：[jbeich@FreeBSD.org](mailto:jbeich@FreeBSD.org)
* 288 次提交：[eduardo@FreeBSD.org](mailto:eduardo@FreeBSD.org)
* 243 次提交：[pkubaj@FreeBSD.org](mailto:pkubaj@FreeBSD.org)
* 223 次提交：[fuz@FreeBSD.org](mailto:fuz@FreeBSD.org)
* 212 次提交：[diizzy@FreeBSD.org](mailto:diizzy@FreeBSD.org)

过去三个月中 Ports 树发生了大量更新，以下是部分主要软件的升级摘要：

* pkg 2.1.0
* Lazarus 默认版本切换为 3.8.0（aarch64 为 4.99）
* Chromium 134.0.6998.165
* 移除 Electron 31，添加 Electron 34
* Firefox 137.0-rc2
* Firefox-esr 128.9.0-rc2
* Gnome 桌面环境 44.1
* KDE Frameworks 6.12.0
* KDE Plasma 6.3.3
* KDE Gear 24.12.3
* Qt6 6.8.3
* 移除 Python 3.8 
* 移除 Ruby 3.1
* Ruby 3.3.7
* Rust 1.85.1
* SDL 2.32.2
* SDL 3.2.8，已添加至 `USES=sdl`
* Wine 10.0

一个 USES 被移除：`qca`

在上一季度，pkgmgr@ 共进行了 20 次测试运行，用于测试基础设施变更和各类 Ports 升级。

### Bugmeister 团队

链接：

[FreeBSD Bugzilla](https://wiki.freebsd.org/Bugzilla) 链接：[https://wiki.freebsd.org/Bugzilla](https://wiki.freebsd.org/Bugzilla)

联系方式：Bugmeister [bugmeister@FreeBSD.org](mailto:bugmeister@FreeBSD.org)

本季度我们在基本系统问题单方面取得了重大进展，关闭了 1,000 多个已不再适用的旧问题单。许多问题单是通过仔细检查 **ObsoleteFiles.inc** 中的所有条目发现的。

在本季度，我们在处理 ports/doc 相关问题单方面也更接近“稳定态”；我们现在处理新提交的问题单更加迅速。可参考：
[https://bugs.freebsd.org/bugzilla/page.cgi?id=dashboard.html\&days=90](https://bugs.freebsd.org/bugzilla/page.cgi?id=dashboard.html&days=90)

问题单总数已从略高于 11,000 降至略低于 10,000，这得益于多位贡献者对整个问题单集合进行了集中处理。

Mark Linimon 参与了数次与 src 提交者的视频会议，目的是探索可持续的协作模式。最近的一项尝试是评估新提交的 src 问题单；你可能会注意到，最近几周内提交的许多问题单都被标记为“请求反馈”。

Bugmeister 团队还对 Bugzilla 数据库进行了一些清理操作：

* 重新检查了 `Product: Base System` `Status: In Progress` 的问题单。有部分实际上没有人处理的记录。当前数量稳定在 186 个，目的是让 `In Progress` 真正具备实际含义。
* 将问题单中 MIME 类型为 `application/mbox` 的补丁修改为 `text/plain`，从而使 Bugzilla 能正确识别。
* 废弃了许多过时补丁，特别是那些包含多个补丁文件的问题单。

我们还发布了用于自动提取和评估补丁是否仍然适用的工具 [patchQA.py](https://github.com/linimon/patchQA)（beta 阶段）。该工具可接受单个问题单编号，或配合一些配置使用完整的 REST 查询。

目前该工具的主要问题是：py-patch 算法无法正确处理 fuzz。如果这一问题未解决，它将保持在 beta 阶段。

几乎所有包含补丁的问题单都已由 patchQA.py 处理，其中数百个补丁已被重新基于当前源码树（例如基本系统补丁相对 src 树根目录重设）。我们现在已经了解到，有不少 Ports 的补丁实际上并不是用于 FreeBSD port 本身，而是需要手动应用到 work/ 目录中某个解包后的源代码。这方面已有脚本正在 alpha 测试阶段。

另一个 patchQA.py 已知问题是：它无法识别通过 installworld 安装到 `/etc` 的文件来源。

但它已经可以在需要时将 Ports 的补丁自动重设为以 ports 树为基准。

此外，我们应用户请求创建了 120 多个新的 Bugzilla 账户。（由于垃圾邮件问题，我们现在不再自动创建账户。）

Clusteradm@ 协助我们抵御了更多抓取网站的爬虫攻击。但另一方面，我们似乎正在输给 AI 机器人。

另见：
[https://wiki.freebsd.org/Bugzilla/SearchQueries](https://wiki.freebsd.org/Bugzilla/SearchQueries)


### 源码管理团队（Source Management Team）

联系方式：源码管理团队 [srcmgr@FreeBSD.org](mailto:srcmgr@FreeBSD.org)

源码管理团队的工作重点是提升 src 开发者的工作效率，并试图应对大量收到的问题单和 RP。该团队每两周召开一次会议，讨论与 src 相关的事务，并对问题单和 PR 进行分流。现任成员包括 Ed Maste、Mark Johnston、John Baldwin 和 Warner Losh。可在 GitHub 上查看会议纪要：[会议纪要](https://github.com/freebsd/meetings/tree/master/srcmgr)

在 1 月和 2 月，源码管理团队组织了两次线上 bug 清理会，每次有约 12 名开发者参与。这些会议持续了 3 小时，专注于对新的 src 问题单进行分流。团队计划在下个月恢复这类会议。

源码管理团队团队计划在 6 月举行的 [FreeBSD 开发者峰会](https://wiki.freebsd.org/DevSummit/202506) 上组织一场会议，讨论议题包括弃用 32 位平台、以及 FreeBSD 15.0 即将推出的 pkgbase 支持。

## 项目

涵盖多个领域的项目，包括内核、用户空间、Ports 以及外部项目。


### 基础设施现代化

联系方式：Ed Maste [emaste@FreeBSD.org](mailto:emaste@FreeBSD.org)

联系方式：Alice Sowerby [alice@freebsdfoundation.org](mailto:alice@freebsdfoundation.org)

该项目始于 2024 年第 3 季度，由主权技术基金委托执行，预算为 745,000 美元，预计持续约一年。项目主要目标包括改进基本系统、Ports 和包的安全工具，升级开发基础设施以加速开发流程、增强构建安全性，并简化新开发者的入门流程。

#### 第一季度更新

五个工作包中的三个已在进行中，剩余两个计划于 4 月启动。总体时间表已调整至 2025 年 12 月，以实现更可持续的开发节奏。

##### 工作包 A：技术债务削减

FreeBSD 基金会与 FreeBSD 项目的源码管理团队（Source Management Team）正在合作，使问题单管理更易于维护和持续发展。我们目前已上线 [问题单积压仪表盘](https://grimoire.freebsd.org/)，在“bug 清理”会议期间帮助更直观地了解积压情况，数据也已显示关闭的问题单数超过了新增问题单数。该工具运行在 FreeBSD 上，并且其 [文档](https://github.com/chaoss/grimoirelab/blob/main/FreeBSD.md) 已上游提交至 GrimoireLab 项目，便于他人参考复用。

想进一步了解此工作包的可收听 [CHAOSScast 播客](https://podcast.chaoss.community/103)，我们在节目中进行了介绍。

我们还正在为 Bugzilla 应用 2023 年以来的补丁，并改进升级流程，以确保未来更新的顺利进行。

##### 工作包 B：零信任构建（Zero Trust Builds）

我们已完成大量基础工作，以实现所有源码发布构建流程统一采用无 root 权限创建发布制品的方式。我们正在对 `make world` 和 **release.sh** 进行规范和文档化，从而为用户提供一致的使用说明。为了实现 src 构建结果的可重现性，我们正在建立 CI 测试，并与 [Reproducible-Builds.org](https://reproducible-builds.org/) 合作，恢复 [FreeBSD 可重现构建 CI](https://tests.reproducible-builds.org/freebsd/freebsd.html)。可阅读他们的 [二月报告](https://reproducible-builds.org/reports/2025-02/)。

##### 工作包 C：CI/CD 自动化

本工作包的总体目标是改进 CI/CD 自动化，以提升软件交付与运维效率，适用于新旧软件项目。当前的工作重点包括：

* 提供与平台无关的工具与文档，使维护者和开发者无需第三方服务即可运行 CI（链接：[D48015](https://reviews.freebsd.org/D48015)）
* 实现对提议提交（例如 Pull Requests）进行合并前 CI 测试的能力（链接：[D36257](https://reviews.freebsd.org/D36257)）
* 整理 CI 管理流程文档，便于保持工具更新和修补
* 更新源码与 Ports 的测试流程，加入标准 linter 和其他相关自动化分析工具

##### 工作包 D：Ports 和包的安全控制

##### 工作包 E：软件物料清单（SBOM）改进

这两个工作包计划于 4 月启动。目前基金会正与 FreeBSD 项目团队协作，合理规划项目范围。

委托方：Sovereign Tech Agency


### 自动化 pkgbase 转换工具

链接：

[pkgbasify](https://github.com/FreeBSDFoundation/pkgbasify) 链接：[https://github.com/FreeBSDFoundation/pkgbasify](https://github.com/FreeBSDFoundation/pkgbasify)

[pkgbase](https://wiki.freebsd.org/PkgBase) 链接：[https://wiki.freebsd.org/PkgBase](https://wiki.freebsd.org/PkgBase)

联系方式：Isaac Freund [ifreund@freebsdfoundation.org](mailto:ifreund@freebsdfoundation.org)

全新的 [pkgbasify](https://github.com/FreeBSDFoundation/pkgbasify) 工具可将现有的 FreeBSD 14 及以上系统自动转换为 [pkgbase](https://wiki.freebsd.org/PkgBase) 模式。

我已尽可能使 pkgbasify 稳定可靠，并且目前相信它的可靠性至少不逊于手动转换。

话虽如此，pkgbasify 仍需要在更多不同系统上测试！请参阅其 [README](https://github.com/FreeBSDFoundation/pkgbasify) 获取使用说明及工具行为的详细信息。

赞助：FreeBSD 基金会

### 支持 Framework 笔记本

链接：

[FreeBSD Wiki 上的 Framework 笔记本页面](https://wiki.freebsd.org/Laptops/Framework_Laptop/)

[在 Framework 系统上安装和使用 FreeBSD 的指南](https://github.com/FrameworkComputer/freebsd-on-framework)

[跟踪票：Framework 笔记本：功能支持、Bug 和改进](https://bugs.freebsd.org/262152)

联系人：Daniel Schaefer（[dhs@frame.work](mailto:dhs@frame.work)）

联系人：許立文（[lwhsu@FreeBSD.org](mailto:lwhsu@FreeBSD.org)）

联系人：Sheng-Yi Hong（[aokblast@FreeBSD.org](mailto:aokblast@FreeBSD.org)）

长期以来，Framework Computer Inc. 在多个方面支持 FreeBSD 项目，包括向基金会提供工程样机进行测试并推进兼容性工作。

基金会持续致力于提升整体笔记本支持，Framework 笔记本是 [笔记本支持与可用性项目](https://github.com/FreeBSDFoundation/proj-laptop/) 的[目标平台](https://github.com/FreeBSDFoundation/proj-laptop/blob/main/supported/laptops.md)之一。

今年 3 月，部分 FreeBSD 开发者再次前往 Framework 台北办公室，在预发售的 Framework Desktop 和 Framework Laptop 12 上测试 FreeBSD。这些测试结果将被用来协助制定 FreeBSD 的开发计划，并在进一步验证后更新 FreeBSD 的支持状态文档。

Sheng-Yi 正在使用 Framework Computer 提供的笔记本添加更多设备支持，例如 [hwpstate：为 AMD 上的 pstate 驱动程序添加 CPPC 支持](https://reviews.freebsd.org/D49587)。

赞助：FreeBSD 基金会（赞助 Li-Wen 和 Sheng-Yi 的工作）

赞助：Framework Computer Inc（赞助 Daniel 的工作、硬件和场地支持）


### 202503 日本东京黑客马拉松

链接：

[Hackathon/202503 Wiki 页面](https://wiki.freebsd.org/Hackathon/202503)

[FreeBSD Hackathon Wiki 页面](https://wiki.freebsd.org/Hackathon)

在 [AsiaBSDCon-Lite 2025](https://hackmd.io/@AsiaBSDCon/2025lite) 活动前，一些社区成员在东京聚集并举行了一场黑客马拉松。

感谢 Christoff Visser 和 Internet Initiative Japan Inc. 为此次活动提供场地赞助。

#### 本次黑客马拉松中完成及推进的工作

##### Sheng-Yi Hung

* [ipheth(4)](https://man.freebsd.org/cgi/man.cgi?query=ipheth&sektion=4&format=html)：iPhone 共享网络在新版 iOS 上使用 NCM 协议，修改了 [ipheth(4)](https://man.freebsd.org/cgi/man.cgi?query=ipheth&sektion=4&format=html) 以支持该协议。补丁：[https://reviews.freebsd.org/D49431](https://reviews.freebsd.org/D49431)
* FreeBSD 基本系统使用 Sccache：FreeBSD 基本系统支持使用 ccache 缓存构建结果。对于跨主机构建，需要分布式缓存机制，也就是 sccache。在黑客马拉松中创建了添加 sccache 支持的补丁：[https://reviews.freebsd.org/D49417](https://reviews.freebsd.org/D49417)

##### Kristof Provost

编写了 bsnmpd 的 snmp\_pf 模块的测试用例。测试中发现 BEGEMOT-PF-MIB.txt MIB 文件无法被 bsnmpwalk 解析，也顺便修复了该问题。提交记录：
[712309a64512](https://cgit.freebsd.org/src/commit/?id=712309a64512c7e4ebf0e10de8a5c59d5a185ae8)
[c849f5333260](https://cgit.freebsd.org/src/commit/?id=c849f533326026501c28cb2c344b16723862551a)
[36586800803d](https://cgit.freebsd.org/src/commit/?id=36586800803d24f1137d861bbaf487a6bde16a09)

##### Aymeric Wibo

* 成功实现对 USB4 路由器配置空间写入并在 AMD USB4 控制器上进行连续读取。
* 对 USB4 路由器挂起的初步工作。
* 发布了一些关于 USB4 的初步补丁。
* 尝试将 USB4 设备直通给 Linux 虚拟机进行挂起（失败）。

##### Mark Johnston

* 处理了多项 syzkaller 报告，例如：[fe7fe3b175b6](https://cgit.freebsd.org/src/commit/?id=fe7fe3b175b626dd1402cd06745b1e3f070c3edd)
* 在收到 OPNsense 开发者的模糊 bug 报告后，与 Gleb 和 Kristof 一同在 pf 中发现并修复了一个罕见的竞态条件，可能导致释放后重用漏洞（UAF）：[8efd2acf07bc](https://cgit.freebsd.org/src/commit/?id=8efd2acf07bc0e1c3ea1f7390e0f1cfb7cf6f86c)

##### Philip Paeps

* 修复了 libtrue 网站 —— 现在我们有了 libtrue.so :-)
* 处理 clusteradm 的技术债务
* LDAP 更新工作取得良好进展
* 升级了一些内部机器

##### 許立文

* 改进项目的 Git 基础设施，包括系统更新、维护脚本和 git hook 修复
* 与 Philip Paeps 一同规划 2025 年及更长远的 cluster 目标和路线图

赞助：Christoff Visser 和 Internet Initiative Japan Inc.（场地提供）

### Sylve —— FreeBSD 的统一系统管理平台

链接：

[GitHub](https://github.com/AlchemillaHQ/Sylve) 链接： [https://github.com/AlchemillaHQ/Sylve](https://github.com/AlchemillaHQ/Sylve)

[CI](https://sylve-ci.alchemilla.io/) 链接： [https://sylve-ci.alchemilla.io](https://sylve-ci.alchemilla.io/)

[Discord](https://discord.gg/bJB826JvXK) 链接： [https://discord.gg/bJB826JvXK](https://discord.gg/bJB826JvXK)

联系方式：Hayzam Sherif \[[hayzam@alchemilla.io](mailto:hayzam@alchemilla.io)]

Sylve 是一款面向 FreeBSD 的现代统一系统管理平台，灵感来源于 Proxmox。其目标是提供集成的网页界面，用于管理虚拟机（基于 Bhyve）、jail、ZFS 存储、网络与防火墙。后端使用 Go 编写，前端则采用 SvelteKit，并结合 Tailwind CSS 与 ShadCN UI 组件。

该项目强调系统占用极小，目前在运行时仅依赖 [sysutils/smartmontools](https://cgit.freebsd.org/ports/tree/sysutils/smartmontools/) 和 [sysutils/tmux](https://cgit.freebsd.org/ports/tree/sysutils/tmux/) 两个包。

Sylve 致力于填补 FreeBSD 生态中一个关键空白：用户友好、功能完整的系统管理网页界面。通过整合虚拟化、存储和网络管理，它旨在降低用户与管理员在复杂环境中部署 FreeBSD 的门槛。

我们自 2 月起开始开发该项目，并在多个方面取得了显著进展：

* PAM 认证集成：支持 FreeBSD 原生的 PAM 认证系统，并可选择回退至本地认证。
* 磁盘管理：用户可通过网页界面查看与管理物理磁盘和分区，包含基于 SMART 的健康监控。
* 前端基础架构：持续开发可复用的 UI 组件与布局结构，注重响应式与可访问性设计。

该项目仍在积极开发中，尚未做好生产环境部署的准备。

下一季度的计划任务包括：

* ZFS 管理：实现通过网页界面创建与管理 ZFS 存储池和数据集的完整支持。
* 虚拟机管理：继续完善对 Bhyve 的集成，以支持 VM 的创建、监控和控制。
* 基本网络与防火墙功能：提供基于网页的 NAT、端口转发和防火墙规则配置接口。

我们欢迎各类贡献、测试与反馈。如果你有兴趣参与，可从以下方面着手：

* UI 测试与可访问性反馈
* 通过 GitHub 提交 bug 报告与功能请求

赞助：FreeBSD 基金会与 Alchemilla（提供开发与基础设施支持）


## 用户空间

影响基本系统及其程序的变更。

### Jail 元数据功能

链接：

[主提交](https://cgit.freebsd.org/src/commit/?id=30e6e008bc06385a66756bebb41676f4f9017eca) 链接： [https://cgit.freebsd.org/src/commit/?id=30e6e008bc06385a66756bebb41676f4f9017eca](https://cgit.freebsd.org/src/commit/?id=30e6e008bc06385a66756bebb41676f4f9017eca)

联系方式：Igor Ostapenko \[[igoro@FreeBSD.org](mailto:igoro@FreeBSD.org)]

联系方式：Dave Cottlehuber \[[dch@FreeBSD.org](mailto:dch@FreeBSD.org)]

[jail(8)](https://man.freebsd.org/cgi/man.cgi?query=jail&sektion=8&format=html) 新增了 `meta` 与 `env` 两个参数。它们都是可以与 jail 关联的任意字符串，可在创建 jail 时设定，也可在之后添加或修改：

```sh
# jail -cm ... meta="tag1=value1 tag2=value2" env="configuration"
```

这些值不会从父 jail 继承。父 jail 可读取两个参数，而子 jail 只能通过新添加的 `security.jail.env` sysctl 读取 `env`。

每个 jail 的 `meta` 和 `env` 的最大大小由全局 sysctl `security.jail.meta_maxbufsize` 控制。减小该值不会影响已有的元数据内容。

每个元数据缓冲区可选地作为一组 `key=value\n` 字符串处理：

```sh
# jail -cm ... meta="$(echo k1=v1; echo k2=v2)" env.1=one
# jls meta.k2 env.1 meta.k1
```

使用 `meta.k1=""` 或 `meta.k1=` 可将键值重置为空字符串，而省略等号的 `meta.k1` 则会移除该键。`flua` 的 libjail 也已相应更新，以支持这种键值操作方式。

赞助：SkunkWerks GmbH

## 内核

内核子系统/功能、驱动支持、文件系统等的更新。

### 音频堆栈改进

联系人：Christos Margiolis \[[christos@FreeBSD.org](mailto:christos@FreeBSD.org)]

自 2024 年第 1 季度以来，我一直在致力于音频堆栈的开发。以下是此前的状态报告链接：

* [2024Q1](https://www.freebsd.org/status/report-2024-01-2024-03/#_audio_stack_improvements)
* [2024Q2](https://www.freebsd.org/status/report-2024-04-2024-06/#_audio_stack_improvements)
* [2024Q3](https://www.freebsd.org/status/report-2024-07-2024-09/#_audio_stack_improvements)
* [2024Q4](https://www.freebsd.org/status/report-2024-10-2024-12/#_audio_stack_improvements)

自[上次报告](https://www.freebsd.org/status/report-2024-10-2024-12/#_audio_stack_improvements)以来的重要工作：

* 对 [sound(4)](https://man.freebsd.org/cgi/man.cgi?query=sound&sektion=4&format=html) 中的格式转换框架进行了大规模重构：[433e270f341c](https://cgit.freebsd.org/src/commit/?id=433e270f341cf660b2fe125c2e0f733073829188)。进一步简化和重构了处理链的其他部分。
* 实现了 [AFMT\_FLOAT](https://cgit.freebsd.org/src/commit/?id=e1bbaa71d62c8681a576f9f5bedf475c7541bd35) 支持。
* 提供了更多开箱即用的笔记本支持，特别是 Framework 品牌机型。
* 虚拟通道现改为按需分配：[02d4eeabfd73](https://cgit.freebsd.org/src/commit/?id=02d4eeabfd73e6a827f5d42601e99aad92060b04)。
* 重新实现 `/dev/dsp` 作为虚拟/路由设备：[D49216](https://reviews.freebsd.org/D49216)。此改动不仅自身独立受益，还将帮助改进 [snd\_hda(4)](https://man.freebsd.org/cgi/man.cgi?query=snd_hda&sektion=4&format=html) 中的自动声音重定向。
* 更多 [sound(4)](https://man.freebsd.org/cgi/man.cgi?query=sound&sektion=4&format=html) 的清理、修复和改进。
* 发布了新版 virtual\_oss：[https://github.com/freebsd/virtual\_oss/releases/tag/v1.3.2](https://github.com/freebsd/virtual_oss/releases/tag/v1.3.2)。
* 我的音频相关 BSDCan 2025 演讲提案已被接受。
* 暂时搁置将 SOF 移植到 FreeBSD 的工作，详见[这里](https://lists.freebsd.org/archives/freebsd-multimedia/2025-March/002889.html)。
* 正在与有意向将 [virtual\_oss 移植到 base](https://wiki.freebsd.org/SummerOfCodeIdeas#Port_virtual_oss_to_base) 的潜在 GSOC 学生接洽。

后续工作包括：

* 完成当前未完成的任务。
* 在音频堆栈的各个领域进行更多的 Bug 修复、支持扩展、优化和改进。
* 继续推进 [audio(8)](https://reviews.freebsd.org/D46227) 的开发。
* 实现通用 MIDI 层，类似于 pcm/，并整体改进/现代化 MIDI 代码库。

你也可以关注我的开发进程，订阅 [freebsd-multimedia@](https://lists.freebsd.org/subscription/freebsd-multimedia) 邮件列表，我会定期发布报告。

赞助：FreeBSD 基金会

### DRM 驱动

链接：

[Linux 6.7 DRM 驱动更新](https://github.com/freebsd/drm-kmod/pull/332) 链接： [https://github.com/freebsd/drm-kmod/pull/332](https://github.com/freebsd/drm-kmod/pull/332)

[Linux 6.8 DRM 驱动更新](https://github.com/freebsd/drm-kmod/pull/344) 链接： [https://github.com/freebsd/drm-kmod/pull/344](https://github.com/freebsd/drm-kmod/pull/344)

联系人：Jean-Sébastien Pédron \[[dumbbell@FreeBSD.org](mailto:dumbbell@FreeBSD.org)]

DRM 驱动是针对集成和独立 GPU 的内核驱动，由 Linux 内核维护，我们将其移植到 FreeBSD。目前我们只移植了 AMD 和 Intel 的 DRM 驱动（NVIDIA FreeBSD 驱动为专有，由 NVIDIA 自行提供）。

我们通常一次移植一个 Linux 版本的驱动，这样更新更频繁，移植和调试也更容易，因为变化范围较小，不会跳跃多个版本。

本季度，我们完成了 Linux 6.7 和 6.8 版本的 DRM 驱动移植。目前这些更新尚未进入 Ports，因为针对 FreeBSD 内核（特别是 `linuxkpi` 兼容层）的若干补丁仍在审核和完善中。

目前已有反馈显示，已有支持的 GPU 驱动运行良好，但对于较新的 GPU，尤其是 Intel GPU，出现了内核 panic 和显示异常。当前难以判断是缺少 Linux 后续版本中的修复，还是 FreeBSD 上存在实际 bug。

这些更新目前针对 FreeBSD 15-CURRENT 开发分支。待内核补丁获批并合并 DRM 驱动更新后，我们将评估如何将内核补丁回移植到早期的发布分支（如 14-STABLE）。

如果想尝试，可以在 pull request 描述中找到构建和安装包含未提交更改的内核、驱动和固件的说明。

下一步计划：

1. 完成内核补丁的完善并提交。
2. 审核并合并 DRM 驱动更新。
3. 评估回移植内核补丁到发布分支，以便在旧版本 FreeBSD 上使用这些更新。

本工作由 FreeBSD 基金会资助，属于笔记本和桌面项目。

赞助：FreeBSD 基金会

### 挂起/恢复 改进

链接：

[博客](https://obiw.ac/s0ix/)

[FOSDEM 关于 S0ix 的演讲](https://youtu.be/mBxj_EkAzV0)

[工作仓库](https://github.com/obiwac/freebsd-s0ix)

[S0ix + AMD SMU 栈最新进展](https://reviews.freebsd.org/D48721)

[USB4 挂起栈](https://reviews.freebsd.org/D49453)

联系人：obiwac \[[obiwac@FreeBSD.org](mailto:obiwac@FreeBSD.org)]

FreeBSD 正在添加挂起到空闲状态（suspend-to-idle）和对 S0ix 睡眠状态的支持。

这将允许现代 Intel 和 AMD 笔记本（例如 AMD 和较新的 Intel Framework 笔记本），其中一些不支持 ACPI S3 睡眠，进入低功耗状态以延长电池寿命。

挂起和恢复功能在 Framework 13 AMD Ryzen 7040 系列上已可工作，但在 AMD 系统上，无法进入最深的 S0ix 状态（S0i3），而该状态对于显著节能是必要的。目前的主要阻碍是无法正确挂起所有 USB4 路由器，否则电源管理固件将拒绝进入 S0i3 状态。FreeBSD 中对 USB4 挂起的支持是必需的，因为 BIOS 会唤醒它们并运行一个操作系统前的 USB4 连接管理器，使其在操作系统加载前保持唤醒状态。

当前工作继承自 Scott Long 开始编写的 USB4 驱动，但路由器尚未完全挂起。

另外编写了一个 amdsmu 驱动，用于读取最后一次挂起统计和睡眠状态驻留计数器（这些在 ACPI \_LPI 对象中不可用）。SMU 是 AMD CPU 上运行电源管理固件的小型协处理器，最终决定是否进入 S0i3 状态。这些统计数据可以告诉我们系统上次挂起时是否进入了 S0i3，进入所需时间，以及挂起时间中有多少比例是在 S0i3 状态下。

赞助：FreeBSD 基金会

### Syzkaller 对 FreeBSD WiFi 的改进

链接：

[google/syzkaller](https://github.com/google/syzkaller)

[工作仓库](https://github.com/estarriol43/syzkaller/tree/freebsd/frame-injection-v2)

联系人：Jian-Lin Li \[[ljianlin99@gmail.com](mailto:ljianlin99@gmail.com)]

联系人：許立文 \[[lwhsu@FreeBSD.org](mailto:lwhsu@FreeBSD.org)]

Syzkaller 是一款操作系统内核模糊测试工具，用于查找内核漏洞。

该项目旨在改进 Syzkaller 在 FreeBSD 上的支持。基于 Linux 上已有的 WiFi 模糊测试器，设计了 FreeBSD 版本的 WiFi 模糊测试器。计划使用 [wtap(4)](https://man.freebsd.org/cgi/man.cgi?query=wtap&sektion=4&format=html)，一个虚拟 WiFi 接口，来支持 WiFi 模糊测试。

设计细节包括：

* 在 Syzkaller 中初始化 wtap 设备以支持 WiFi 模糊测试
* 通过 wtap 提供的 ioctl 接口注入 802.11 帧
* 通过 Netlink 接口注入 802.11 帧（目前 FreeBSD 尚不支持）

已经开发了基于现有 ioctl 接口的 WiFi 模糊测试器，结果可在此 [分支](https://github.com/estarriol43/syzkaller/tree/freebsd/frame-injection-v2) 查看。

希望将 Linux 中 Syzkaller 用于注入 802.11 帧的 Netlink 接口引入 FreeBSD，以提升 Linux 和 FreeBSD 之间的兼容性。

赞助：FreeBSD 基金会

### 改善 LinuxKPI 802.11 无线

联系人：Bjoern A. Zeeb \[[bz@FreeBSD.org](mailto:bz@FreeBSD.org)]

联系人：FreeBSD 无线邮件列表 \[[wireless@FreeBSD.org](mailto:wireless@FreeBSD.org)]

在多个无线项目的推进下，本报告重点关注大部分使用许可宽松的 Linux 无线驱动在 FreeBSD 上的原样运行。目前支持的驱动包括 [iwlwifi(4)](https://man.freebsd.org/cgi/man.cgi?query=iwlwifi&sektion=4&format=html)、[rtw88(4)](https://man.freebsd.org/cgi/man.cgi?query=rtw88&sektion=4&format=html) 和 [rtw89(4)](https://man.freebsd.org/cgi/man.cgi?query=rtw89&sektion=4&format=html)。

\[rtw88(4)] 驱动已经修复了无法关联的问题（[Bugzilla PR#283142](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=283142)）。此外，社区的大量调试和测试帮助解决了内存泄漏问题（[Bugzilla PR#283903](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=283903)）。

添加了控制 \[rtw88(4)] 和 \[rtw89(4)] 中 HT 和 VHT 支持的 tunable 参数。硬件加密卸载（HW crypto offload）默认启用 CCMP。发现许多用户仍在使用 TKIP，相关支持正在开发，预计在第二季度初完成。

HT (11n) 和 VHT (11ac) 支持现已默认编译进基于 LinuxKPI 的驱动中。驱动和整个框架的改动已从 main 合并到 stable/14，两个分支支持水平一致。

通过 \[fwget(8)] 安装固件的用户，HT 和 VHT 支持会自动启用，针对 \[iwlwifi(4)] 2200 系列（主要是 AX200）、AX210 和 BE200 芯片组。较老的 iwlwifi 芯片组，rtw88 和 rtw89 驱动则需要额外工作来支持。

公告指出，iwlwififw(4) 固件将效仿 rtw88 和 rtw89 的固件管理方式，于 2025 年 4 月从 base 系统移除，改用 Ports 和 fwget(8) 方式（[公告](https://lists.freebsd.org/archives/freebsd-stable/2025-March/002763.html)）。

赞助：FreeBSD 基金会

### 改善无线

联系人：Tom Jones \[[thj@FreeBSD.org](mailto:thj@FreeBSD.org)]

联系人：FreeBSD 无线邮件列表 \[[wireless@FreeBSD.org](mailto:wireless@FreeBSD.org)]

2024 年底，Future Crew LLC 提供了他们基于 OpenBSD 的 iwx port 的源代码。我选择将两个驱动合并，使用 Future Crew 的驱动作为基础，并导入我自己的修改。

我对该驱动进行了整理，删除了大量开发代码，并扩展了对更多设备的支持。FreeBSD 中的 iwx 现在应能附加到任何由 OpenBSD 支持的设备。固件由 [bz@](mailto:bz@FreeBSD.org) 提供，包含在 [net/wifi-firmware-iwlwifi-kmod](https://cgit.freebsd.org/ports/tree/net/wifi-firmware-iwlwifi-kmod/) 包中。

iwx 于本季度末合并进 FreeBSD。iwx 的探测优先级低于 iwlwifi，以避免破坏现有部署配置。

iwx 支持 legacy、HT 和 VHT 速率，部分用户在测试中报告了显著的吞吐量。速率选择方面仍存在许多问题，开发工作还在继续。

赞助：FreeBSD 基金会


## 架构

更新平台特定功能并引入对新硬件平台的支持。

### Pinephone Pro 支持

链接：[Codeberg 上的仓库](https://codeberg.org/Honeyguide/freebsd-pinephonepro)

联系人：Toby Kurien \[[toby@tobykurien.com](mailto:toby@tobykurien.com)]

正在推进将 FreeBSD 移植到 Pinephone Pro 的项目。该项目目标是逐步支持 Pinephone Pro 的各个组件，使设备未来能够作为高移动性的 FreeBSD 设备使用。

本季度启用了控制台屏幕输出，使用 EFI framebuffer 支持。这需要使用特定版本的 U-boot 来设置 EFI framebuffer，FreeBSD 内核随后可以使用它在启动时输出。虽然该方案存在限制（如无硬件加速），但这是让 FreeBSD 在 Pinephone Pro 上可用的重要一步。

为了便于尝试当前代码变更，仓库中新增了一个脚本，用于创建可烧录的镜像，支持从 SD 卡启动。该脚本会下载并补丁处理 FreeBSD CURRENT mini-memstick 镜像，加入自定义设备树和内核，生成的镜像可通过 dd 写入 SD 卡并在手机上启动。详情见仓库。

USB 端口支持工作已启动，但目前停滞不前，需要特别了解 USB 子系统并能推进工作的人协助。目前 FreeBSD 能检测到部分 USB 控制器，但无法看到 USB 设备，例如内部连接的调制解调器。还需要帮助移植 Linux 驱动，主要是 Broadcom 43455 wifi 模块（通过 SDIO 连接），该驱动同样适用于 Raspberry Pi 3b+/4/5。

欢迎有意帮助者通过邮件联系我。

论坛帖子链接：[https://forums.freebsd.org/threads/porting-freebsd-to-pinephone-pro-help-needed.95948/](https://forums.freebsd.org/threads/porting-freebsd-to-pinephone-pro-help-needed.95948/)

赞助：Honeyguide Group

## 云计算

更新云计算特定功能并引入对新云平台的支持。


### 在 Microsoft HyperV 和 Azure 上的 FreeBSD

链接：

[FreeBSD wiki 上的 Microsoft Azure 文章](https://wiki.freebsd.org/MicrosoftAzure)

[FreeBSD wiki 上的 Microsoft HyperV 文章](https://wiki.freebsd.org/HyperV)

联系人：Microsoft FreeBSD 集成服务团队 \[[bsdic@microsoft.com](mailto:bsdic@microsoft.com)]

联系人：[freebsd-cloud 邮件列表](https://lists.freebsd.org/subscription/freebsd-cloud)

联系人：FreeBSD Azure 发布工程团队 \[[releng-azure@FreeBSD.org](mailto:releng-azure@FreeBSD.org)]

联系人：Wei Hu \[[whu@FreeBSD.org](mailto:whu@FreeBSD.org)], \[[weh@microsoft.com](mailto:weh@microsoft.com)]

联系人：Souradeep Chakrabarti \[[schakrabarti@microsoft.com](mailto:schakrabarti@microsoft.com)]

联系人：許立文 \[[lwhsu@FreeBSD.org](mailto:lwhsu@FreeBSD.org)]

本季度，我们发布了 [13.5-RELEASE 于 Azure Marketplace](https://azuremarketplace.microsoft.com/marketplace/apps/thefreebsdfoundation.freebsd-13_5)。

Wei Hu 继续修复 FreeBSD MANA NIC 设备的漏洞。

正在进行的任务：

* 自动化镜像发布流程并合并至 **src/release/**。
* 使发布至 Azure Marketplace 的流程更顺畅。
* 支持 FreeBSD 在 [Azure VM 工具集](https://github.com/Azure/azure-vm-utils/) 中。

开放任务：

* 更新 Microsoft Learn 上的 FreeBSD 相关文档 [Microsoft Learn](https://learn.microsoft.com/)
* 更新 [sysutils/azure-agent](https://cgit.freebsd.org/ports/tree/sysutils/azure-agent/) 至最新版本
* 上游合并 [Azure agent 的本地修改](https://github.com/Azure/WALinuxAgent/pull/1892)
* 移植 [Azure 的 Linux 虚拟机扩展](https://github.com/Azure/azure-linux-extensions)
* 在 [Azure Pipelines](https://azure.microsoft.com/products/devops/pipelines/) 中添加对 FreeBSD 的支持

  * [https://github.com/microsoft/azure-pipelines-agent/pull/3266](https://github.com/microsoft/azure-pipelines-agent/pull/3266)
  * 构建并发布快照构建到 [Azure 社区图库](https://learn.microsoft.com/azure/virtual-machines/share-gallery-community)

赞助：微软（对微软内部人员及资源）

赞助：FreeBSD 基金会（其他所有支持）



### 容器与 FreeBSD：Cloud Native Buildpacks


链接：

[Cloud Native Buildpacks (CNBs)](https://buildpacks.io/)

[GitHub Buildpacks 仓库](https://github.com/buildpacks/pack)

联系人：Robert Gogolok \[[gogolok@gmail.com](mailto:gogolok@gmail.com)]

[Cloud Native Buildpacks (CNBs)](https://buildpacks.io/) 能将应用源代码转换成容器镜像，这些镜像可在任何云平台运行。借助 buildpacks，组织可以将容器构建最佳实践的知识集中于专门团队，而非让每个应用开发者分别维护自己的 Dockerfile。

我本季度的目标是让工具 [pack](https://buildpacks.io/docs/for-platform-operators/how-to/integrate-ci/pack/) 能在 FreeBSD 上构建。

通过以下改动，现在可以在 FreeBSD 上编译 `pack`：

* [移除过时的 // +build 行 #2337](https://github.com/buildpacks/pack/pull/2337)
* [使用 unix 构建约束 #2339](https://github.com/buildpacks/pack/pull/2339)
* [支持 FreeBSD 构建阶段 #2357](https://github.com/buildpacks/pack/pull/2357)

接下来的步骤是：

* 为 `lifecycle` 和 `pack` 提供缺失的 FreeBSD 功能。
* 进一步研究 FreeBSD 作为 `lifecycle` 的构建目标。
* 通过 FreeBSD Ports 提供 `lifecycle` 和/或 `pack`。
* 探索类似 [paketo buildpacks](https://paketo.io/) 的 FreeBSD 构建包，支持一些流行语言。

### 在 EC2 上的 FreeBSD

链接：

[EC2 启动性能随时间变化](https://www.daemonology.net/freebsd-ec2-boot-performance/)

联系人：Colin Percival \[[cperciva@FreeBSD.org](mailto:cperciva@FreeBSD.org)]

FreeBSD 可用于 amd64（Intel 和 AMD）和 arm64（Graviton）架构的 EC2 实例。

过去一个季度，投入了大量精力使“热拔插”（例如分离 EBS 卷）功能正常工作，针对不同实例类型修复了多个问题。预计将在即将发布的 FreeBSD 14.3 中完全实现此功能。

赞助：亚马逊

赞助：[https://www.patreon.com/cperciva](https://www.patreon.com/cperciva)



## 文档

文档树、手册页或新增外部书籍/文档的显著更新。


### 文档工程团队

链接：

[FreeBSD 文档项目](https://www.freebsd.org/docproj/)

[新贡献者 FreeBSD 文档项目入门](https://docs.freebsd.org/en/books/fdp-primer/)

[文档工程团队](https://www.freebsd.org/administration/#t-doceng)

联系人：FreeBSD 文档工程团队 \[[doceng@FreeBSD.org](mailto:doceng@FreeBSD.org)]

文档工程团队团队负责处理 FreeBSD 文档项目相关的元项目问题；更多信息请参见 [FreeBSD 文档工程团队章程](https://www.freebsd.org/internal/doceng/)。

#### 文档变更

##### 手册

* 文件系统章节进行了重构。
* 更新了关于官方镜像站点的信息。
* 更新了多个示例，包括 vnet、jails、git 等。

##### Port 开发者手册

记录了以下 `USES`：

* `ansible`
* `angr`
* `apache`
* `azurepy`
* `electronfix`
* `elixir`
* `emacs`
* `fpc`
* `jpeg`
* `kodi`
* `lazarus`
* `mlt`
* `mpi`
* `ocaml`
* `trigger`
* `waf`

为 `USES=samba` 记录了新变量：

* `SAMBA_TALLOC_PORT`
* `SAMBA_TDB_PORT`
* `SAMBA_TEVENT_PORT`

##### 网站

* 添加了 NetBSD 10.1 的手册页。
* 添加了 Rocky Linux 8.10、9.4 和 9.5 的手册页。
* 添加了 FreeBSD 13.5 的手册页。
* 添加了 OpenSolaris 2010.03 的页面。

#### 在 Weblate 上的 FreeBSD 翻译

链接：

[在 Weblate 翻译 FreeBSD](https://wiki.freebsd.org/Doc/Translation/Weblate)

[FreeBSD Weblate 实例](https://translate-dev.freebsd.org/)

##### 2024 年第三季度状态

* 18 个团队语言
* 246 位注册用户

新增 7 位翻译者加入 Weblate：

* Squirrel-hue（西班牙语，智利西班牙语）
* Javier Faig（西班牙语）
* Сергей（俄语）
* Renan Birck Pinheiro（葡萄牙语）
* Davi Rodrigues（葡萄牙语）
* laiis akibo
* Raoul Taddei（法语）

##### 语言进度

* 简体中文（zh-cn）（进度：7%）
* 繁体中文（zh-tw）（进度：3%）
* 荷兰语（nl）（进度：1%）
* 法语（fr）（进度：1%）
* 德语（de）（进度：1%）
* 希腊语（el）（进度：1%）
* 印尼语（id）（进度：1%）
* 意大利语（it）（进度：4%）
* 韩语（ko）（进度：30%）
* 挪威语（nb-no）（进度：1%）
* 波斯语（fa-ir）（进度：2%）
* 波兰语（进度：2%）
* 葡萄牙语（进度：0%）
* 巴西葡萄牙语（pt-br）（进度：23%）
* 西班牙语（es）（进度：36%）
* 土耳其语（tr）（进度：2%）

感谢所有参与翻译和审校文档的志愿者。

请在本地用户组宣传此项工作，我们始终需要更多志愿者。

#### 文档工程团队维护的包

本季度，文档工程团队维护的包中完成了以下工作：

* [www/gohugo](https://cgit.freebsd.org/ports/tree/www/gohugo/)：更新至 0.145.0

#### 未解决问题

当前无指派给 doceng@ 的开放 PR。

本季度关闭了以下 PR：

* [276923](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=276923) — www/gohugo 在 poudriere 中的链接错误

### FreeBSD Wiki

链接：

[FreeBSD wiki 主页](https://wiki.freebsd.org/FrontPage) 网址：[https://wiki.freebsd.org/FrontPage](https://wiki.freebsd.org/FrontPage)

联系人：Mark Linimon \[[linimon@FreeBSD.org](mailto:linimon@FreeBSD.org)]

联系人：Wiki 管理员 \[[wiki-admin@FreeBSD.org](mailto:wiki-admin@FreeBSD.org)]

Wiki 团队需要新鲜血液。

自上次状态报告（2024Q3）以来，进展陷入停滞。我们发放了几十个新账户，但这些新作者的大部分更改仅限于个别页面，未改善整体结构。

Mark Linimon 仍然认为，如果有人愿意投入时间，wiki 可以成为极好的资源。但目前关于数据陈旧的投诉多于新贡献者和新想法。

可以说，现在的 wiki 处于无为而治状态。

#### 之前搁置的计划

wiki 软件更新的初步工作曾经进行过。此前我们考虑更换实现方案，因为 MoinMoin 的开发似乎停滞，导致我们不得不依赖不受欢迎的 python2。然而，MoinMoin 现在声称他们即将发布 2.0 版本，我们尚未尝试安装他们最新的 beta 版本来测试兼容性。

#### 短期具体求助

如果有人了解 MoinMoin 标记语言，请联系 Mark。

### Vision Accessibility — 辅助无障碍手册

链接：

[项目仓库](https://gitlab.com/alfix/freebsd-accessibility) 网址：[https://gitlab.com/alfix/freebsd-accessibility](https://gitlab.com/alfix/freebsd-accessibility)

联系人：FreeBSD Accessibility 邮件列表 \[[freebsd-accessibility@FreeBSD.org](mailto:freebsd-accessibility@FreeBSD.org)]

联系人：Alfonso Sabato Siciliano \[[asiciliano@FreeBSD.org](mailto:asiciliano@FreeBSD.org)]

FreeBSD 基金会支持一系列项目，旨在提升视觉障碍用户的无障碍体验。

感谢贡献者和提交者的专注努力，FreeBSD 提供了多项辅助技术。当前的持续工作重点是整理并记录这些无障碍功能，形成一本新的手册。项目目前集中于为盲人、低视力和色盲用户记录功能，涵盖 PORTS 和 BASE 系统的功能。例如：用于屏幕放大、屏幕阅读器（帮助不能看屏幕的用户）以及调整桌面环境颜色的工具。此外，基本系统中提升可见性的辅助功能也在记录中，带有示例和提示，比如在系统虚拟控制台 [vt(4)](https://man.freebsd.org/cgi/man.cgi?query=vt&sektion=4&format=html) 中修改颜色、字体和大小的能力。

新手册将分章节组织。第一章为介绍，第二章介绍视觉无障碍辅助技术。上述仓库提供了手册的进行中版本，包括代码（在 FreeBSD “doc” 仓库的 accessibility-book 分支）及 HTML 预览。预计不久将完成并审阅发布。未来计划增设第三章（听觉无障碍）、第四章（交互无障碍）和第一章的“杂项”章节，涵盖一般性内容。相关讨论可在辅助无障碍邮件列表找到。

此外，本季度更新了 Port [www/edbrowse](https://cgit.freebsd.org/ports/tree/www/edbrowse/)，这是一个完全命令行的网页浏览器，兼容屏幕阅读器。还在开发一套解决方案，便于在基本系统中的 TUI 工具实现颜色自定义，并可能直接通过系统安装程序 [bsdinstall(8)](https://man.freebsd.org/cgi/man.cgi?query=bsdinstall&sektion=8&format=html) 设置高对比度。

欢迎提供建议和新思路。若有可能，请将报告发送至 FreeBSD Accessibility 邮件列表，以便共享和公开跟踪讨论。

赞助：FreeBSD 基金会

## Ports

影响 Ports 的变更，包括触及大部分树结构的重大调整，或个别 Port 的更新。

### 用 Freepascal/Lazarus 编写的 bhyve 管理 GUI

链接：

[Bhyvemgr](https://github.com/alonsobsd/bhyvemgr) 网址：[https://github.com/alonsobsd/bhyvemgr/](https://github.com/alonsobsd/bhyvemgr/)

联系人：José Alonso Cárdenas Márquez \[[acm@FreeBSD.org](mailto:acm@FreeBSD.org)]

Bhyvemgr 是一款用 Freepascal/Lazarus 在 FreeBSD 上编写的 bhyve 管理 GUI。它依赖于基系统中安装的一些工具以及部分来自 Ports/包的工具。其主要目标是成为一款面向桌面用户的桌面应用，便于快速轻松地在 FreeBSD 主机上设置和运行虚拟机。

本季度内，Bhyvemgr 进行了大量的 bug 修复和改进。

新增功能亮点包括：

* 改进对 aarch64 的支持
* RDP 登录表单在 bhyvemgr 运行期间保存上次连接使用的分辨率和用户名
* 支持在 LPC 设备的 com1 选择 TCP 远程连接
* 修复 xfreerdp 和 remote-viewer 在 bhyvemgr 中运行时产生的僵尸进程 bug，现改用 Tthread 替代仅用 TProcess
* 虚拟机弹出菜单中可复制 VM 名称和 com1 连接字符串到剪贴板
* xfreerdp3 从 rdp.args 文件加载参数
* 重用设备表单，避免每次打开/使用设备表单时消耗内存
* 网络设备名称可在网络设备表单中手动添加/修改，合法名称为 tapX 或 vmnetX（例如 tap0，vmnet0）
* 日志消息支持

Bhyvemgr 仅支持 FreeBSD 15-CURRENT 上的 aarch64，及 FreeBSD 13.x 到 15-CURRENT 上的 amd64。可从 [Ports](https://www.freshports.org/sysutils/bhyvemgr) 或 pkg 二进制包安装 Bhyvemgr，支持 gtk2、qt5、qt6 界面。

特别感谢 [Entersekt](https://www.entersekt.com/) 赞助该项目，现在我可以使用 RockPro64（aarch64）测试 bhyvemgr。

欢迎有兴趣的人士参与或支持该项目。

当前版本：1.5.0

待办事项：

* 添加串行设备支持

赞助：Entersekt

### 容器编排：Overlord、Director 和 AppJail

链接：

[AppJail on GitHub](https://github.com/DtxdF/AppJail) 网址：[https://github.com/DtxdF/AppJail](https://github.com/DtxdF/AppJail)

[Director on GitHub](https://github.com/DtxdF/Director) 网址：[https://github.com/DtxdF/Director](https://github.com/DtxdF/Director)

[Overlord on GitHub](https://github.com/DtxdF/Overlord) 网址：[https://github.com/DtxdF/Overlord](https://github.com/DtxdF/Overlord)

联系方式：Jesús Daniel Colmenares Oviedo \[[DtxdF@disroot.org](mailto:DtxdF@disroot.org)]

**AppJail** 是一款完全用 POSIX shell 和 C 语言编写的开源 BSD-3 许可证框架，用于创建隔离、可移植且易于部署的环境，使用 FreeBSD jails，行为类似于一款应用程序。

**Director** 是一款用于在 AppJail 上运行多 jail 环境的工具，采用简单的 YAML 规范。Director 文件用于定义组成应用程序的一个或多个 jail 的配置。只要有了 Director 文件，你可以通过一条命令 `appjail-director up` 来创建并启动你的应用程序。

**Overlord** 是一款快速的分布式 FreeBSD jail 编排器，面向 GitOps。你定义一个文件来描述集群上运行的服务，部署时间从几秒到几分钟不等。该工具使用 AppJail、Director，甚至可以用 vm-bhyve 创建虚拟机，但其理念是“用代码部署”，因此你只需创建一个文件即可多次部署。通过树状链式系统，Overlord 能在连接的系统上部署 jails，几乎无限共享它们的资源。更多信息请参阅其 [wiki](https://github.com/DtxdF/Overlord/wiki) 上的相关文章。

赞助：[https://www.patreon.com/appjail](https://www.patreon.com/appjail)

### FreeBSD 上的 GCC

链接：

[GCC 项目](https://gcc.gnu.org/) 网址：[https://gcc.gnu.org/](https://gcc.gnu.org/)

[GCC 11 版本系列](https://gcc.gnu.org/gcc-11/) 网址：[https://gcc.gnu.org/gcc-11/](https://gcc.gnu.org/gcc-11/)

[GCC 12 版本系列](https://gcc.gnu.org/gcc-12/) 网址：[https://gcc.gnu.org/gcc-12/](https://gcc.gnu.org/gcc-12/)

[GCC 13 版本系列](https://gcc.gnu.org/gcc-13/) 网址：[https://gcc.gnu.org/gcc-13/](https://gcc.gnu.org/gcc-13/)

[GCC 14 版本系列](https://gcc.gnu.org/gcc-14/) 网址：[https://gcc.gnu.org/gcc-14/](https://gcc.gnu.org/gcc-14/)

联系方式：Lorenzo Salvadore \[[salvadore@FreeBSD.org](mailto:salvadore@FreeBSD.org)]

将 GCC 默认版本从 13 更新到 14 的实验运行被暂停。原因是 FreeBSD 13.4 缺少 GCC 14 链接时使用的一些符号，详情见 [问题报告 284499#c0](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=284499#c0)。不过这些符号在较高版本的 FreeBSD 中已存在。鉴于 FreeBSD 13.4 预计将于六月三十日停止支持，决定暂停实验运行直到那时，并计划于七月一日恢复。

与此同时，相关 Bug 修复工作持续进行中，Bug 276070 和 284441 已修复。目前正在讨论涉及 CPUTYPE 变量特殊值的问题，例如 Bug 285711。

### ksocket Netgraph 模块的 IPv6 支持

链接：

[为 ng\_ksocket 添加 IPv6 支持](https://reviews.freebsd.org/D48204) 网址：[https://reviews.freebsd.org/D48204](https://reviews.freebsd.org/D48204)

联系方式：Seyed Pouria Mousavizadeh Tehrani \[[info@spmzt.net](mailto:info@spmzt.net)]

为 [ng\_ksocket(4)](https://man.freebsd.org/cgi/man.cgi?query=ng_ksocket&sektion=4&format=html) 模块增加了对 IPv6 的支持。

`ng_ksocket` 节点类型允许用户在内核内打开套接字，并使其显示为 `netgraph` 节点。作者在尝试使用 [ng\_netflow(4)](https://man.freebsd.org/cgi/man.cgi?query=ng_netflow&sektion=4&format=html) 导出流量时，发现需要在 `ng_ksocket` 模块中实现 IPv6。

之前曾尝试为该模块添加 IPv6 支持（参见 Phabricator 评审 [D23788](https://reviews.freebsd.org/D23788)）。

在研究这些改动后，作者完成了相关工作并加入了符合标准的验证。

现在，通过 `ksocket` 模块可以直接在 `netgraph` 框架内创建 IPv6 套接字。修改后，作者可以直接通过 `netgraph` 导出流量，而无需在网络链路上启用 IPv4。


### FreeBSD 上的 KDE

链接：

[KDE/FreeBSD 计划](https://freebsd.kde.org/) 网址：[https://freebsd.kde.org/](https://freebsd.kde.org/)

[FreeBSD — KDE 社区 Wiki](https://community.kde.org/FreeBSD) 网址：[https://community.kde.org/FreeBSD](https://community.kde.org/FreeBSD)

联系方式：FreeBSD KDE 邮件列表 \[[kde@FreeBSD.org](mailto:kde@FreeBSD.org)]

FreeBSD 上的 KDE 项目为 FreeBSD Ports 打包 CMake、Qt 及 KDE 社区软件。这些软件包括完整的桌面环境 KDE Plasma（支持 X11 和 Wayland）及数百款可在任何 FreeBSD 机器上使用的应用。KDE 团队是 [desktop@](mailto:desktop@FreeBSD.org) 的一部分，致力于构建让 FreeBSD 成为美观且适合日常使用的图形桌面工作站的软件栈。

#### KDE 迈向 6 时代！

KDE Ports 已追赶上主流上游开发，现提供最新的 KDE Frameworks 6、KDE Plasma 6 和 KDE Gear。大多数 KDE 应用默认版本更新为使用 KDE Frameworks 6。许多基于 Qt 的应用也已默认升级至 Qt6 版本。

这使得 FreeBSD 与 OpenBSD 和 Linux 发行版一样，拥有现代化的 KDE 体验。

Qt5 和 KDE Frameworks 5 仍保留在 Ports 树中供部分用户使用。Qt5 于 2025 年 5 月 26 日到达上游维护终止，因此不推荐继续使用。KDE Frameworks 5 同样处于安全维护模式。

感谢 makc@、arrowd@ 和 kenrap@ 促成此次 KDE 更新在 Ports 中的合并。

#### 基础设施

* CMake 收到多个补丁级更新
* Qt 和 PySide（Qt 的 Python 绑定）更新至 6.8.2

### OpenBGPd 修复 FreeBSD 上的 FIB 处理

链接：

[OpenBGPD 8.8 发布](https://undeadly.org/cgi?action=article;sid=20250207192657)

[修复接口销毁时崩溃](https://github.com/openbgpd-portable/openbgpd-portable/pull/93)

联系人：Seyed Pouria Mousavizadeh Tehrani \[[info@spmzt.net](mailto:info@spmzt.net)]

本次工作修复了 FreeBSD 上在销毁接口时的 FIB 处理问题。

我在一台启用了 OpenBGPd 的 FreeBSD 服务器上遇到了这个问题：当接口被销毁时，OpenBGPd 崩溃，导致所有 BGP 会话断开。

我决定调试并修复此问题，修复内容可以在该 [GitHub pull request](https://github.com/openbgpd-portable/openbgpd-portable/pull/93) 中查看。

现在，我们可以安全地在运行 OpenBGPd 的同时创建或销毁虚拟或克隆接口，而无需担心 BGP 会话会受到影响。


### 改进 FreeBSD 上的 OpenJDK

链接：

[项目介绍](https://freebsdfoundation.org/project/improving-openjdk-on-freebsd/)

[项目仓库](https://github.com/freebsd/openjdk)

联系人：Harald Eilertsen \[[haraldei@freebsdfoundation.org](mailto:haraldei@freebsdfoundation.org)]，FreeBSD Java 邮件列表 \[[freebsd-java@lists.freebsd.org](mailto:freebsd-java@lists.freebsd.org)]

该项目的主要目标是改进 FreeBSD/amd64 和 FreeBSD/arm64 上的 OpenJDK 支持。

Java 是许多高性能关键企业系统的重要运行时环境。确保 Java 应用能在 FreeBSD 上正确且高效运行，对于保持 FreeBSD 作为企业及各类组织的可用且有吸引力的平台非常重要。

去年年底，我们发布了 FreeBSD 的 [OpenJDK 23 Port](https://cgit.freebsd.org/ports/commit/?id=aa17c509fe7c4a011e832bd1e67257cf5d0ebc81)，此后修复了字体管理相关问题和其他一些小改进。我们也在密切跟进 OpenJDK 24 的开发，现已完成了对应的 [Port 工作](https://reviews.freebsd.org/D49354)，预计在本状态更新发布时即可使用。

除了移植 OpenJDK 24，项目还在推进将 BSD Port 合并到 OpenJDK 主线开发树，首批补丁已被上游接受。目前重点是重振 [OpenJDK BSD Port 项目](https://openjdk.org/projects/bsd-port/)，并建立单独的项目仓库。

本季度大量工作投入到根据主线和 jdk24 分支的发展清理 BSD Port 补丁，还改进了 FreeBSD 上内置测试套件（jtreg 和 gtest）的运行结果。这涉及测试本身和 OpenJDK 底层代码的多处调整。虽然还有少数测试未通过（尤其是 Aarch64 上），但整体结果相比之前有显著提升。

最后，花了不少时间与 OpenJDK 社区沟通协作，商讨如何将 BSD 支持以良好方式整合进主线 OpenJDK 代码库。OpenJDK 项目表现出高度开放和支持的态度，积极推动这项工作顺利进行。

赞助：FreeBSD 基金会

### FreeBSD 上的 Wazuh

链接：

[Wazuh 官网](https://www.wazuh.com/)

联系人：José Alonso Cárdenas Márquez \[[acm@FreeBSD.org](mailto:acm@FreeBSD.org)]

Wazuh 是一家免费且开源的平台，用于威胁预防、检测和响应。它能够保护本地、虚拟化、容器化和云环境中的工作负载。

Wazuh 解决方案包括部署在被监控系统上的端点安全代理和收集分析代理数据的管理服务器。此外，Wazuh 已与 Elastic Stack 或 OpenSearch Stack 完全集成，提供搜索引擎和数据可视化工具，方便用户浏览安全警报。

本季度，Wazuh Ports 有多项 Bug 修复和改进：

* 更新 Python 绑定至 3.11.11
* 更新 [textproc/opensearch](https://cgit.freebsd.org/ports/tree/textproc/opensearch/) 依赖到 2.16.x
* 更新 [textport/opensearch-dashboards](https://cgit.freebsd.org/ports/tree/textport/opensearch-dashboards/) 依赖到 2.16.x
* 更新 [databases/py-pyarrow](https://cgit.freebsd.org/ports/tree/databases/py-pyarrow/) whl 到 19.0.1

可以使用 [Wazuh AppJail-Makejails](https://github.com/AppJail-makejails/wazuh) 快速部署 Wazuh jail 进行测试。

特别感谢 Entersekt 赞助该工作，现在可以使用 RockPro64 (aarch64) 进行 Wazuh 测试和打包。

欢迎有兴趣的人士参与该项目。

当前版本：4.11.0

待办事项：

* 增加 Wazuh 集群模式的 AppJail makejails 基础设施
* 为 FreeBSD Wazuh 代理增加漏洞检测支持
* 争取 Wazuh Inc 对 FreeBSD 作为官方支持平台
* 更新 FreeBSD SCA 策略以符合新版 FreeBSD CIS Benchmark

赞助：Entersekt

## 第三方项目

许多项目基于 FreeBSD 构建，或将 FreeBSD 组件集成到自己的项目中。由于这些项目可能对更广泛的 FreeBSD 社区有兴趣，我们有时会在季度报告中包含这些项目提交的简要更新。FreeBSD 项目对这些提交中所述内容的准确性或真实性不作任何保证。

### FreeBSD 中文社区（CFC）

链接：

[FreeBSD 中文社区（CFC）](https://bsdcn.org/)

[https://bsdcn.org/](https://bsdcn.org/)

社区成员数：QQ 群 249 人，微信群 175 人

#### FreeBSD 从入门到追忆

链接：

[FreeBSD 从入门到追忆 GitHub](https://github.com/FreeBSD-Ask/FreeBSD-Ask)

[FreeBSD 从入门到追忆网站](https://book.bsdcn.org/)

联系人：

ykla \[[yklaxds@gmail.com](mailto:yklaxds@gmail.com)]

Voosk \[[roisfrank@icloud.com](mailto:roisfrank@icloud.com)]

《FreeBSD 从入门到追忆》由中国 FreeBSD 社区（CFC）的 ykla 发起，是一本用简体中文写就的 FreeBSD 入门指南。《FreeBSD 从入门到追忆》创建于 2021 年 3 月 14 日。

本季度更新内容：

* 新增内容：
  * 安装 [x11/budgie](https://cgit.freebsd.org/ports/tree/x11/budgie/)
  * 系统配置工具 [sysutils/bsdconfig](https://cgit.freebsd.org/ports/tree/sysutils/bsdconfig/) 
  * 安装 [x11-wm/fluxbox](https://cgit.freebsd.org/ports/tree/x11-wm/fluxbox/)
  * 安装 [x11-wm/icewm](https://cgit.freebsd.org/ports/tree/x11-wm/icewm/)
  * 安装 [net-mgmt/prometheus2](https://cgit.freebsd.org/ports/tree/net-mgmt/prometheus2/)
  * [security/py-fail2ban](https://cgit.freebsd.org/ports/tree/security/py-fail2ban/)（基于 IPFW、PF、IPF）
  * 安装 [x11-wm/windowmaker](https://cgit.freebsd.org/ports/tree/x11-wm/windowmaker/)
  * 双系统安装手册（先安装 FreeBSD）
  * 基于 Apple M1 & Parallels Desktop 20 的 FreeBSD 安装
  * 命令行基础
  * 安装 [zabbix7-server](https://cgit.freebsd.org/ports/tree/zabbix7-server/)（基于 PostgreSQL）
  * 等等
* 重写内容：
  * 安装 [ftp/pure-ftpd](https://cgit.freebsd.org/ports/tree/ftp/pure-ftpd/)（基于 MySQL）
  * 安装 [ftp/proftpd](https://cgit.freebsd.org/ports/tree/ftp/proftpd/)（基于 MySQL）
  * 安装 [ftp/vsftpd](https://cgit.freebsd.org/ports/tree/ftp/vsftpd/)
* 新增多款 GitHub Action，如自动生成 PDF、死链检查等

一如既往，欢迎反馈和补丁。

赞助：FreeBSD 中文社区（CFC）

### FreeBSD Discord 服务器

链接：

[Discord 服务器](https://wiki.freebsd.org/Discord/DiscordServer)

联系方式：Setesh Strong \[[setesh.strong@gmail.com](mailto:setesh.strong@gmail.com)]

FreeBSD 社区的 Discord 服务器成员数已超过 5300 人，最近一个月活跃成员超过 3000 人。为了支持社区健康发展，促进项目贡献和参与，BSDlabs 团队两年多前开发了 Helper 计划。经过多个发展阶段，团队现已发展壮大，因而拆分为三个不同职能团队。

* 社区健康与文化维护助手（@moderators）由 Alexander Vereeken 领导。
* 新成员入门和培训助手（@mentors）由 Alexander Ziaee 领导。
* 活动组织与外联助手（@organizers）由 Ahmad Abdulla 领导。

自新团队成立以来，所有助手都在各自职责范围内努力推动增长。我们很自豪地分享部分成果及下季度重点工作和目标。

Antranig Vartanian 领导开发了定期举办的“Ask the Greybeards” AMA（问我任何事）系列活动，得到众多资深系统管理员和开发者支持。该活动为用户及学习者提供了向社区资深成员请教和学习的机会。特别感谢 Michael Dexter 及众多支持者，正是你们的专业和技能助力了生态系统的未来发展。

新成员助手团队在 Alexander Ziaee 领导下，在吸引新贡献者方面取得了显著进展，尤其带动了文档树的活跃。

应 Warner Losh 要求，我们在服务器上创建了 #google-summer-of-code 工作区，为参与 GSoC 的成员提供提问、反馈和协助的平台。为进一步打破社区孤岛，我们正在建立 matterbridge 机器人，计划连接 #freebsd-gsoc IRC 频道及未来 FreeBSD IRC 和 Matrix 社区的其他链接。

我们很高兴欢迎 FreeBSD wifi 栈开发者加入服务器，特设 #wifi-hacking 工作区以促进他们的协作。特别感谢 Adrian Chadd 引入这一机会，并带领该工作区活跃开展工作。

正在开发的新项目是由 Jesper Schmitz Mouridsen 领导的 Co-op 学习俱乐部，旨在为社区成员提供并肩学习的机会，在新成员助手团队指导下提升技能。作为项目驱动的学习小组，帮助成员将兴趣转化为优势，熟悉通过 Porting、源码开发、文档测试和补丁贡献 FreeBSD。经验丰富的导师将提供学习资源、解答疑问、帮助克服障碍，目标是为成为优秀开发者和 FreeBSD 贡献者打造路线图和环境。

在社区助手 Jessica Hawkwell 及活动团队负责人 Ahmad Abdulla 的支持下，新增了 #foss-ecosystem 频道，标志着 FreeBSD 社区内外各种孤岛之间桥梁建设的开始。如果你希望在此频道添加你所在社区的链接且目录中尚无，请联系我们。

除现有 Discord 工具外，我们正在升级扩展基础设施，重点保障 Discord 机器人基础设施和工具的可用性，并恢复 etherpad 和 dpaste 功能以支持协作。我们致力于更好地支持社区内所有专注的开发者。

如果你是 FreeBSD 生态系统成员且尚未加入我们的 Discord，欢迎通过本报告顶部 wiki 中的邀请链接加入。若你在现有助手团队的任何领域有经验或热情，或对 Discord 机器人基础设施开发感兴趣，我们非常欢迎你加入团队。请通过上述邮箱联系，或在 Discord 上私信 @setesh.strong。

### Framework 内核模块

链接：

[GitHub](https://github.com/christian-moerz/framework-kmod)

[Bugzilla](https://bugs.freebsd.org/285448)

联系方式：Chris Moerz \[[freebsd@ny-central.org](mailto:freebsd@ny-central.org)]

`framework-kmod` 内核模块的开发起源于 [FreeBSD Laptop and Desktop Workgroup (LDWG)](https://wiki.freebsd.org/LaptopDesktopWorkingGroup) 内的讨论与协作。该模块针对动态屏幕调光的需求，特别适合未使用全功能桌面环境的场景。

framework-kmod 内核模块的主要功能是在电脑闲置时动态调暗屏幕，检测到用户活动时恢复亮度。此功能旨在提升电源效率和用户体验，尤其适用于简约环境。

在默认情况下，该模块对屏幕调光十分积极，在大约一秒无操作后即调暗屏幕。这种行为能及时节能，但用户可根据个人偏好进行调整。模块通过 sysctl 提供设置选项，能让用户定制行为。用户可以分别设置调暗和正常亮度等级，调整无输入信号触发调光的时间长度，并针对笔记本使用电源或电池时应用不同配置。键盘亮度控制键也可调节亮度等级。

模块通过 [evdev(4)](https://man.freebsd.org/cgi/man.cgi?query=evdev&sektion=4&format=html) 监测输入信号。若在设定超时内无输入，则降低屏幕亮度；检测到输入后立即恢复到之前的亮度。该模块要求预先加载 drm-kmod 驱动，以确保与必要图形驱动兼容。

framework-kmod 并非通用屏幕调光驱动，专为 tty 控制台或简单窗口管理器（如 suckless 的 dwm 或 i3）设计。使用完整桌面环境（如 Gnome 或 KDE）的用户，建议使用环境自带的屏幕调光功能。

该模块的开发源于 LDWG 会议中发现的需求，体现了工作组的协作精神。已提交了 [framework-kmod 的 Port](https://bugs.freebsd.org/285448)，方便 FreeBSD 社区更广泛地使用和进一步开发。

### 笔记本和桌面工作组（LDWG）

链接：

[桌面邮件列表](https://lists.freebsd.org/archives/freebsd-desktop/)

[Wiki 页面](https://wiki.freebsd.org/LaptopDesktopWorkingGroup)

[YouTube](https://www.youtube.com/watch?v=U9SdSkfqH9U&list=PLugwS7L7NMXwHlYfDKNMXwJrjFrYVA9ca)

联系方式：Chris Moerz \[[freebsd@ny-central.org](mailto:freebsd@ny-central.org)]

FreeBSD 笔记本和桌面工作组（LDWG）在第一季度持续投入努力。

LDWG 每月召开会议，讨论 FreeBSD 在笔记本和桌面上的现状并审查进展。会议定于每月第二个星期一 UTC 时间下午 5 点举行。下一次会议安排在 5 月 14 日星期三，分别是太平洋时间上午 10 点、东部时间下午 1 点、UTC 时间下午 5 点。

为方便亚太地区参与者加入会议，已启动调查以探索替代呼叫方案。

所有会议均上传至 YouTube，方便更广泛的关注者获取工作组动态。

组内参与者在多个领域取得显著进展：

* **音频改进：** 提升了音频质量。
* **文档：** 文档得到了重大改进，更加全面且易用。
* **无线速度与稳定性：** 改善了无线速度与稳定性，增强整体连接性能。

所有活动都被详尽记录在工作组的工作表中。LDWG 鼓励任何有意贡献者在工作表上登记。如有计划或正在进行的工作，欢迎将其加入工作表。

LDWG 已确立的会议议程包括：

* **新闻更新：** 分享 FreeBSD 在桌面和笔记本上的相关新闻，包括工作组未涵盖的工作。
* **FreeBSD 基金会笔记本项目：** 项目进展良好，报告中强调了志愿者对测试工作的支持需求以及 UX 测试组的组建。
* **项目审查与公告：** 审查和展示进展，宣布新项目，呼吁行动。
* **问答环节：** 为进行中的项目提供提问平台；作为开发者、用户和利益相关者的聚集点，围绕重点领域组织协调。

LDWG 正与企业工作组合作改进会议议程。两组均面临兴趣领域和工作流多于资源的挑战，因此正在制定流程确保有限时间投入到具备必要资源和关注度的事项中。

该组欢迎任何对该领域感兴趣的人士加入，无论是参与工作组还是会议。

期待见到你！



### 容器与 FreeBSD：Pot、Potluck 和 Potman

链接：

[GitHub 上的 Pot 组织](https://github.com/bsdpot)

联系方式：

Luca Pizzamiglio (Pot) \[[pizzamig@FreeBSD.org](mailto:pizzamig@FreeBSD.org)]

Bretton Vine (Potluck) \[[bv@honeyguide.eu](mailto:bv@honeyguide.eu)]

Michael Gmelin (Potman) \[[grembo@FreeBSD.org](mailto:grembo@FreeBSD.org)]

Pot 是一个 jail 管理工具，[还支持通过 Nomad 进行编排](https://www.freebsd.org/news/status/report-2020-01-2020-03/#pot-and-the-nomad-pot-driver)。Potluck 旨在成为 FreeBSD 和 Pot 的 Dockerhub，提供 Pot 的各种镜像和完整容器镜像，用于 Pot 和（在许多情况下）Nomad。

本季度发布了新的 [Pot 版本 0.16.1](https://github.com/bsdpot/pot/releases/tag/0.16.1)，包含若干小修复，FreeBSD Port 也相应更新。

Potluck 发布了新的 [OnlyOffice Documentserver](https://github.com/bsdpot/potluck/tree/master/onlyoffice-documentserver) 镜像，可与 [Nextcloud](https://github.com/bsdpot/potluck/tree/master/nextcloud-nginx-nomad) 镜像配合使用。此外，许多镜像也进行了改进和错误修复，如 [Nextcloud Spreed](https://github.com/bsdpot/potluck/tree/master/nextcloud-spreed-signalling)、[Grafana](https://github.com/bsdpot/potluck/tree/master/grafana)、[Vault](https://github.com/bsdpot/potluck/tree/master/vault) 和 [Consul](https://github.com/bsdpot/potluck/tree/master/consul)，所有镜像均重建以更新基础镜像。

最后，主仓库正迁移至 Codeberg，GitHub 作为镜像使用。

一如既往，欢迎反馈和补丁。

赞助：Nikulipe UAB，Honeyguide Group
