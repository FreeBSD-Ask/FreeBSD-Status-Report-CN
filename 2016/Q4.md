# FreeBSD 2016 年第四季度状态报告

- 原文链接：<https://www.freebsd.org/status/report-2016-10-2016-12.html>

## 引言

又一年过去了（而且新的一年亦已开始，同时我们在整理这个报告时仍然在忙碌）。在过去两年中，我作为 monthly@ 团队的一员参与了这些报告的编写，亲眼见证了每一条内容的处理过程，这让我深刻地了解了 FreeBSD 的现状，这些信息是通过阅读提交邮件无法获得的。我希望我们的读者也能从这些报告中受益。

本季度，报告包含了许多持续进行中的项目更新、新参与者的加入，以及一些项目在几个季度的间歇后重新出现的情况。希望你们在阅读过程中能够有所收获！

——Benjamin Kaduk

2017 年 1 月至 3 月的提交截止日期为 2017 年 4 月 7 日。

## [FreeBSD 团队报告](https://www.freebsd.org/status/report-2016-10-2016-12.html#FreeBSD-Team-Reports)

### [FreeBSD 发布工程团队](https://www.freebsd.org/status/report-2016-10-2016-12.html#FreeBSD-Release-Engineering-Team)

| 链接                                                                                  |
| ------------------------------------------------------------------------------------- |
| [FreeBSD 11.0-RELEASE 公告](https://www.freebsd.org/releases/11.0R/announce.html)     |
| [FreeBSD 11.0-RELEASE 发布说明](https://www.freebsd.org/releases/11.0R/relnotes.html) |
| [FreeBSD 开发快照](http://ftp.freebsd.org/pub/FreeBSD/snapshots/ISO-IMAGES/)          |

联系人：FreeBSD 发布工程团队 <[re@FreeBSD.org](mailto:re@FreeBSD.org)>

FreeBSD 发布工程团队负责设定并发布 FreeBSD 官方项目版本的发布计划，宣布代码冻结，并维护相应的分支等事项。

FreeBSD 发布工程团队与 FreeBSD 安全团队合作，完成了 FreeBSD 11.0-RELEASE 的发布工作。FreeBSD 11.0-RELEASE 于 2016 年 10 月 10 日发布，发布延迟了大约四周。

FreeBSD 发布工程团队特别感谢 Colin Percival 和所有 FreeBSD 安全团队成员，他们在确保用户升级路径得到妥善处理和记录方面付出了额外的努力。

该项目由 FreeBSD 基金会赞助。

### [Ports](https://www.freebsd.org/status/report-2016-10-2016-12.html#Ports-Collection)

| 链接                                                                                                             |
| ---------------------------------------------------------------------------------------------------------------- |
| [关于 FreeBSD Ports](https://www.freebsd.org/ports/)                                                             |
| [如何为 Ports 做贡献](https://www.freebsd.org/doc/en_US.ISO8859-1/articles/contributing/ports-contributing.html) |
| [FreeBSD Ports 监控](http://portsmon.freebsd.org/index.html)                                                     |
| [Ports 管理团队](https://www.freebsd.org/portmgr/index.html)                                                     |
| [FreeBSD portmgr Twitter](https://twitter.com/FreeBSD_portmgr/)                                                  |
| [FreeBSD Ports 管理团队 Facebook](https://www.facebook.com/portmgr)                                              |
| [FreeBSD Ports 管理团队 Google+](https://plus.google.com/communities/108335846196454338383)                      |

联系人：René Ladan <[portmgr-secretary@FreeBSD.org](mailto:portmgr-secretary@FreeBSD.org)>  
联系人：FreeBSD Ports 管理团队 <[portmgr@FreeBSD.org](mailto:portmgr@FreeBSD.org)>

Ports 树已经达到了 27,000 个 Port，PR（问题报告）数量略有增加，达到了约 2,250 个。在这些 PR 中，572 个尚未分配。上个季度，176 名提交者进行了 6871 次提交。与上个季度相比，PR 的数量和未分配 PR 的数量都有轻微增加。

在上个季度，两个提交权限被收回：jmg 在 19 个月的 inactivity 后，和 edwin 按自己的要求。我们迎来了三位新提交者：Nikolai Lifanov（lifanov）、Jason Bacon 和 Mikhail Pchelin（misha）。

在管理方面，adamw 和 feld 被选为新的 portmgr 成员，而 rene 被晋升为正式成员。feld 已经开始参与 ports-secteam。

在基础设施方面，引入了两个新的 USES（lxqt 和 varnish）。一些默认版本也进行了更新：varnish 4（新版本）、GCC 从 4.8 升级到 4.9，Perl 从 5.20 升级到 5.24，Python 从 3.4 升级到 3.5。两个主要 Port 在 12 月 31 日到期并被移除：Perl 5.18 和 Linux Fedora 10（默认改为 Linux CentOS 6）。由于 FreeBSD 9.3、10.1 和 10.2 也到期，这些版本的支持已从 Ports 树中移除。

一些重要的 Port 已更新至最新版本：pkg 升级至 1.9.4，Firefox 升级至 50.1.0，Firefox-esr 升级至 45.6.0，Chromium 升级至 54.0.2840.100，Ruby 升级至 2.1.10 / 2.2.6 / 2.3.3。www/node 升级至版本 7，版本 6 被拆分为 www/node6，用于长期支持。

在幕后，antoine 进行了 39 次 exp-runs 来验证软件包更新、框架更改和基本系统的更改。bdrewery 安装了新的软件包构建机器，并为 FreeBSD 11 添加了 mips、mips64 和 armv6 的构建支持。他还改进了软件包构建器的负载均衡、监控和自动化。

#### 待处理任务：

1. 如果你有一些空闲时间，请处理一个 PR 来进行测试和提交。

### [FreeBSD 核心团队](https://www.freebsd.org/status/report-2016-10-2016-12.html#The-FreeBSD-Core-Team)

联系人：FreeBSD 核心团队 <[core@FreeBSD.org](mailto:core@FreeBSD.org)>

2016 年最后一季度，核心团队的主要关切是维护安全团队的有效性。该团队主要需要更好的项目管理，既要改善沟通，也要让其他团队成员能够专注于处理漏洞的技术方面。

为此，FreeBSD 基金会或是其他主要使用 FreeBSD 的公司将在此角色上雇佣专职人员的原则已达成一致。

核心团队确认，新的支持模式将在 11.0-RELEASE 中生效，尽管切换到基于包的基本系统发布机制被推迟。有关新支持模式的详细信息，请参阅 FreeBSD 网站的 [security](https://www.freebsd.org/security/security.html) 页面。

核心团队要求删除 misc/jive Port，因为该 Port 的功能仅仅是将文本转换为一种冒犯性种族主义的讽刺（**译者注：该软件可将英语文本转换成黑人俚语**）。此举引发了争议，许多人认为这是对整个 Ports 树的审查之举。核心团队明确表示，这并非其意图。核心团队的目标是帮助确保 FreeBSD 项目的未来，使其对所有贡献者都保持开放， 无论其种族、性别、性取向或其他不当歧视的基础。虽然 misc/jive 曾经可能被认为是无害的娱乐，但如今将其保留在 Ports 树中，所隐含的认可信息与项目的目标相悖。

由于活动不足，营销团队和相关的 marketing@FreeBSD.org 邮件列表已被解散。以后发往 marketing@FreeBSD.org 的邮件将被转发到 FreeBSD 基金会的营销团队。

核心团队成员 Allan Jude，在担任 clusteradm 联络人后，成为了 clusteradm 的正式成员。

由于 11.0 版本说明中给出了误导性印象，认为 802.11n 无线支持才刚刚加入，并且这一误解在媒体中被重复，紧急修正被批准。实际上，FreeBSD 多年来一直支持 802.11n，无线支持已经添加到多个设备驱动程序中，版本说明应说明此点。

关于改进 Unicode 支持的提案仍在讨论中。FreeBSD 已经符合标准，但提案是切换到类似于 Linux glibc 当前使用的 \__STDC_ISO_10646_ 实现。对于这一新方法的技术优点，意见存在分歧。

关于许可和其他法律事务的常见问题：

- 由于外部工具链启用构建世界的进展比预期快，创建 GPLv3 覆盖层的计划被搁置。
- 网站上的商标页面已更新，显示了多个商标的当前拥有者及其批准形式。
- 由于缺少工具来提取和汇总所有相关信息，BSD 许可证中规定的“以二进制形式重新分发时，必须在分发的文档和/或其他材料中再现上述版权声明、条件列表和以下免责声明”可以通过提供包含嵌入版权声明的系统源代码的 tarball 来履行。
- 欧洲法院的“被遗忘权”仅适用于搜索引擎，而 FreeBSD 项目不是搜索引擎，因此不需要采取任何行动。
- 核心团队密切关注 LLVM 项目中的许可证变更讨论，如果实现该变更，可能需要审计整个 Ports 树，以发现所有包含与 libc++ 链接的二进制包，并确保它们的许可证与 LLVM 兼容。但迹象表明，LLVM 项目不会采纳这种变更。
- 固件许可证中的“开源例外”意味着提交 Nvidia Jetson TK1 XHCI 设备的“二进制 blob”驱动是可以接受的。

在本季度，四个新的提交权限被授予。请欢迎 Dexuan Cui、David Bright、Konrad Witaszczyk 和 Piotr Stefaniak。我们遗憾地看到 Edwin Lansing 放弃了他的提交权限并从 portmgr 退下。

### [FreeBSD 基金会](https://www.freebsd.org/status/report-2016-10-2016-12.html#The-FreeBSD-Foundation)

联系人：Deb Goodkin <[deb@FreeBSDFoundation.org](mailto:deb@FreeBSDFoundation.org)>

FreeBSD 基金会是一家 501(c)(3)非盈利组织，致力于全球支持和推广 FreeBSD 项目及其社区。基金会的资金来自个人和企业捐赠，并用于资助和管理软件开发项目、会议和开发者峰会，并为 FreeBSD 贡献者提供旅行资助。基金会还购买和支持硬件，以改进和维护 FreeBSD 基础设施；发布宣传材料来推广、教育和倡导 FreeBSD 项目；促进商业供应商与 FreeBSD 开发者之间的合作；最后，代表 FreeBSD 项目执行合同、许可协议和其他需要法律实体的法律事务。

以下是我们在上个季度帮助 FreeBSD 的一些亮点：

#### 筹款工作

我们的工作完全依赖您的捐赠支持。2016 年，我们从 1471 位捐赠者那里筹集了 1,527,540 美元！感谢所有为我们继续支持 FreeBSD 项目和社区努力的捐赠者！您可以在这里捐赠，支持我们的 2017 年筹款活动：[https://www.FreeBSDfoundation.org/donate/](https://www.freebsdfoundation.org/donate/)。

#### 操作系统改进

基金会通过雇佣我们的技术员工来维护和改进关键的内核子系统，添加功能和修复问题，从而改进 FreeBSD 操作系统。这还包括资助独立项目，例如 arm64 移植、blacklistd 访问控制守护进程、VIMAGE 支持的集成，确保 FreeBSD 仍然是一个可行的解决方案，用于研究、教育、计算、产品等多个领域。

去年支持的大型项目包括：

- arm64 移植
- VIMAGE 集成
- 工具链工作
- blacklistd 访问控制守护进程

基金会团队在 11 月的董事会上制定了 2017-2018 年的技术路线图。

员工和董事会成员继续主持每两周一次的电话会议，以促进个人在不同技术领域的合作。

您可以通过阅读 Ed Maste、Konstatin Belousov 和 Edward Napierala 在本报告中的个人更新，了解我们提供的更多支持。

#### 发布工程

基金会提供了一名全职员工来领导发布工程工作。这为过去几年提供了及时和可靠的发布。

上个季度，我们的全职员工与 FreeBSD 发布工程团队和安全团队合作，完成了 11.0-RELEASE 的最终发布。他还为 12-CURRENT 快照构建添加了对 powerpcspe 架构的支持，并继续对基本系统进行 pkg(8) 打包工作。他还在整个季度继续制作 10-STABLE、11-STABLE 和 12-CURRENT 的开发快照构建。

您可以通过阅读报告中的发布工程团队状态更新，了解我们为发布工程团队提供的更多支持。

#### 支持 FreeBSD 基础设施

基金会提供硬件和支持，以改善 FreeBSD 基础设施。今年，我们购买了以下硬件以改进构建、持续集成和平台流程：

- 一台服务器，用于将持续集成过程的构建时间从超过一小时缩短到 20 分钟。您可以在此处了解更多信息：[https://ci.FreeBSD.org/](https://ci.freebsd.org/)。
- 两台 ThunderX 服务器，用于为 FreeBSD/arm64 架构构建原生包。
- 两台服务器，以改进发布工程构建。
- 四台服务器，以改善包构建。
- 四台服务器作为构建从机，以增加持续集成过程中构建的数量。

### FreeBSD 推广和教育

我们的大部分工作致力于为项目进行宣传。这包括推广其他人使用 FreeBSD 所做的工作；制作宣传材料，帮助人们了解 FreeBSD，并帮助简化开始使用 FreeBSD 或为项目贡献的路径；参加活动并鼓励其他 FreeBSD 贡献者自愿参与组织 FreeBSD 相关活动、提供 FreeBSD 展台和进行 FreeBSD 演讲。

以下是我们去年在宣传和教育方面的一些工作亮点：

- 参加和/或赞助了全球 24 个活动
- 向开发者提供了 15 个旅行资助
- 创建了新的和更新的宣传资料，包括：

  - 更新版的 FreeBSD 10 宣传册
  - 新的 TeachBSD 明信片，宣传该项目
  - Google Summer of Code 传单
  - FreeBSD 11 宣传册
  - 更新版的招聘传单
  - 更新版的参与传单
  - FreeBSD 作为研究平台的宣传传单

- 创建了一系列 FreeBSD 使用指南：

  - 使用 VirtualBox 安装 FreeBSD（适用于 Mac/Windows）
  - 在 FreeBSD 上安装桌面环境
  - 在 Raspberry Pi 上安装 FreeBSD
  - 将 PC-BSD 作为主要操作系统安装
  - FreeBSD 设置技巧

- 收集了新的推荐信：

  - Accelerations Systems
  - NeoSmart Technologies
  - Chelsio Communications
  - Crescent River Port Pilots' Association
  - IXC
  - Stormshield

- 更新了 FreeBSD 项目和基金会的品牌形象：

  - 新的 FreeBSD Foundation 网站和 logo
  - 更新的品牌资产页面，包含更多关于 FreeBSD 项目和 FreeBSD Foundation logo 的信息。

我们在 [https://www.FreeBSDfoundation.org/journal/](https://www.freebsdfoundation.org/journal/) 发布了我们的 9 月/10 月和 11 月/12 月期刊。

我们还发布了每月的通讯，突出了为支持 FreeBSD 所做的工作，告诉您即将到来的活动，并提供其他信息，让您了解我们为支持 FreeBSD 项目和社区所做的工作：[https://www.FreeBSDfoundation.org/news-and-events/newsletter/](https://www.freebsdfoundation.org/news-and-events/newsletter/)。

### 会议和活动

FreeBSD Foundation 在全球范围内赞助许多会议、活动和峰会。这些活动可以是与 BSD 相关的、开源的或面向少数群体的技术活动。

我们支持以 FreeBSD 为主题的活动，旨在为知识分享提供平台，推动项目合作，并促进开发者与商业用户之间的协作。这些都帮助维持一个健康的生态系统。我们也支持非 FreeBSD 活动，旨在推广和提高 FreeBSD 的认知度，增加 FreeBSD 在不同应用中的使用，并吸引更多的贡献者参与项目。

上个季度，我们还赞助或参加了以下活动：

- Ohio LinuxFest，10 月，美国俄亥俄州哥伦布市
- Grace Hopper 2016，10 月，美国德克萨斯州休斯敦市
- COSC 2016，10 月，中国北京
- Bay Area FreeBSD Vendor and Developer's Summit 和 MeetBSD 2016，11 月，美国加利福尼亚州伯克利市
- USENIX LISA '16，12 月，美国马萨诸塞州波士顿市
- OSC 2016，12 月，中国北京

查看我们在 2016 年支持的所有会议：[https://www.FreeBSDfoundation.org/blog/recap-of-2016-advocacy-efforts/](https://www.freebsdfoundation.org/blog/recap-of-2016-advocacy-efforts/)。

### 法律/FreeBSD 知识产权

基金会拥有 FreeBSD 的商标，保护这些商标是我们的责任。我们继续审核商标使用申请并授予使用许可。我们还为核心团队提供了法律支持，调查某些专利的状态。

### FreeBSD 社区参与

我们的市场总监 Anne Dickison 一直在主导重写项目行为准则的工作，帮助使社区更加安全、包容和欢迎。更新后的行为准则和报告指南正在进行最终审查，并将在 2017 年第一季度提交给核心团队批准。

访问 [http://www.FreeBSDfoundation.org](https://www.freebsdfoundation.org/) 了解我们如何支持 FreeBSD 以及我们如何帮助您！

### [Ceph 在 FreeBSD 上的使用](https://www.freebsd.org/status/report-2016-10-2016-12.html#Ceph-on-FreeBSD)

| 链接                                                                     |
| ------------------------------------------------------------------------ |
| [Ceph 官方网站](http://ceph.com/)                                        |
| [主代码库](https://github.com/ceph/ceph)                                 |
| [我的 FreeBSD 分支](https://github.com/wjwithagen/ceph/tree/wip.FreeBSD) |

联系人：Willem Jan Withagen <[wjw@digiware.nl](mailto:wjw@digiware.nl)>

Ceph 是一个分布式对象存储和文件系统，旨在提供卓越的性能、可靠性和可扩展性：

- 对象存储  
  Ceph 提供了对对象的无缝访问，支持原生语言绑定或 radosgw（一个与 S3 和 Swift 兼容的 REST 接口）。
- 块存储  
  Ceph 的 RADOS 块设备（RBD）提供了对跨整个存储集群进行条带化和复制的块设备映像的访问。
- 文件系统  
  Ceph 提供一个符合 POSIX 标准的网络文件系统，旨在提供高性能、大数据存储，并与遗留应用程序保持最大兼容性。

我开始研究 Ceph，是因为使用 CARP 和 ggate 的 HAST 解决方案并没有达到我期望的效果。但我的目标是运行一个 Ceph 存储集群，存储节点使用 ZFS，用户站点将运行 bhyve 并使用存储在 Ceph 中的 RBD 磁盘。

FreeBSD 上的 Ceph 构建包含了 Ceph 提供的大多数工具。请注意，依赖 RBD 的项目将无法工作，因为 FreeBSD 目前没有 RBD（还未实现）。

自上次报告以来最显著的进展：

- RBD 实际上可以构建并用于管理 RADOS 块设备。
- 当前选定的工具的所有测试都已完成，尽管所需的（小）补丁尚未合并到 HEAD 中。
- CMake 现在是构建 Ceph 的唯一方法。
- 线程/轮询代码已针对简单套接字代码重新设计。现在使用自管道，而不是使用 Linux 的奇怪 shutdown() 信号特性。
- EventKqueue 代码已修改，以绕过“特性”问题，启动线程会破坏 kqueue 句柄。代码刚完成，因此尚未提交到主代码库。
- 我们调查了 FreeBSD 和 Linux 在 SO_REUSEADDR 和 SO_REUSEPORT 上的差异。幸运的是，该代码仅在测试期间使用，因此禁用这些特性仅延迟了测试的进展。
- Jenkins 实例定期测试 ceph/ceph/master 和 wjwithagen/ceph/wip.FreeBSD，因此定期验证构建能力和测试：[http://cephdev.digiware.nl:8180/jenkins/](http://cephdev.digiware.nl:8180/jenkins/)。

#### 构建先决条件

在 12-CURRENT 上使用 clang 3.9.0 测试编译和构建 Ceph，但 11-RELEASE 也可能可行，因为 11-CURRENT 中的 clang 3.7.0 已经有类似经验。有趣的是，当 12-CURRENT 使用 clang 3.8.0 时，它的表现不如 3.7.0 或 3.9.0。10-STABLE 中的 clang 3.4 无法编译所有内容。

以下设置将使 FreeBSD 上的构建开始运行：

1. 安装 bash 并链接到 /bin
2. 不再需要在 /usr/include/errno.h 中添加 ENODATA 的定义
3. 克隆 GitHub 仓库（http://github.com/wjwithagen/ceph.git）并切换到“wip.FreeBSD”分支
4. 运行 ./do_FreeBSD.sh 开始构建。

不再使用基于 automake 的旧构建方法；有关详细信息，请参阅 README.FreeBSD。

#### 尚未包含的部分：

- KRBD：内核 Rados 块设备已在 Linux 内核中实现，但尚未在 FreeBSD 内核中实现。也许可以使用 ggated 作为模板，因为它执行一些与 KRBD 相同的功能，只不过是针对两个磁盘之间的操作。它还具有一个用户空间的对应实现，可以简化开发。
- BlueStore：FreeBSD 和 Linux 有不同的 AIO API，必须解决这种不兼容性。此外，FreeBSD 中有关于 aio_cancel 在某些设备类型上无法工作的讨论。
- CephFS：Cython 尝试访问 struct dirent 中的一个内部字段，这导致无法编译。
- 用于验证上述功能正确性的一些测试也被排除在测试集中。

#### 开放任务：

1. 运行集成测试，看看 FreeBSD 守护进程是否能够与 Linux Ceph 平台协同工作。
2. 编译并测试用户空间的 RBD（Rados 块设备）。目前已经可以工作，但测试有限。
3. 调查是否可以开发一个类似于 FreeBSD ggate 的内核 RBD 设备。
4. 调查密钥存储（keystore），它可以嵌入到 Linux 内核中，但目前阻止了 CephFS 和其他一些组件的构建。首先需要确定它是否真有必要，或者只是 KRBD 需要它。
5. 调度器信息目前未使用，因为 FreeBSD 和 Linux 的调度器工作方式大不相同。但在某个时间点，这将需要关注 src/common/Thread.cc 中的内容。
6. 将 FreeBSD 的 /etc/rc.d 启动脚本集成到 Ceph 堆栈中。这不仅有助于测试，还能使 Ceph 在生产机器上运行。
7. 构建测试集群，并开始在上面运行一些 teuthology 集成测试。
8. 设计一种虚拟磁盘实现，可以与 bhyve 一起使用并连接到 RBD 映像。

### [OpenBSM](https://www.freebsd.org/status/report-2016-10-2016-12.html#OpenBSM)

| 链接                                                                                                              |
| ----------------------------------------------------------------------------------------------------------------- |
| [OpenBSM: Open Source Basic Security Module (BSM) 审计实现](http://www.openbsm.org/)                              |
| [OpenBSM 在 GitHub](https://github.com/openbsm/openbsm)                                                           |
| [FreeBSD 审计手册章节](https://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/audit.html)                     |
| [OpenBSM 1.2 alpha 5 发布公告](https://lists.freebsd.org/pipermail/trustedbsd-announce/2016-December/000008.html) |
| [DARPA CADETS 项目](https://www.cl.cam.ac.uk/research/security/cadets/)                                           |

联系人：Christian Brueffer <[brueffer@FreeBSD.org](mailto:brueffer@FreeBSD.org)>  
联系人：Robert Watson <[rwatson@FreeBSD.org](mailto:rwatson@FreeBSD.org)>  
联系人：TrustedBSD 审计邮件列表 <[trustedbsd-audit@TrustedBSD.org](mailto:trustedbsd-audit@TrustedBSD.org)>

OpenBSM 是一个 BSD 授权的实现，提供了 Sun 的基本安全模块（BSM）API 和文件格式。它是 FreeBSD 和 Mac OS X 中 CAPP 审计实现的用户空间部分。此外，审计日志处理工具也应该能够在 Linux 上运行。

在这一季度，受 DARPA CADETS 项目的推动，开发活动有所增加，最终发布了 OpenBSM 1.2 alpha 5 版本。该版本的一些变化包括：可以指定内核的最大审计队列长度；为 auditreduce(1) 和 praudit(1) 提供了沙箱支持，适用于 FreeBSD 和其他支持 Capsicum 的系统；此外，还添加了更多 FreeBSD 系统调用的事件标识符。完整的变更列表可以在 GitHub 上的 [NEWS](https://github.com/openbsm/openbsm/blob/master/NEWS) 文件中查看。新版本将在不久后合并到 FreeBSD 的 HEAD 和支持的 STABLE 分支中。

该项目由 DARPA/AFRL（部分）赞助。

#### 开放任务：

1. 在不同版本的 FreeBSD、Mac OS X 和 Linux 上测试新版本。特别是对 Mac OS X 最新版本的测试将受到高度欢迎。
2. 修复通过 GitHub 和 FreeBSD 错误追踪器报告的问题。
3. 实现 GitHub 上 [TODO](https://github.com/openbsm/openbsm/blob/master/TODO) 列表中提到的功能。

### [Sysctl Exporter for Prometheus](https://www.freebsd.org/status/report-2016-10-2016-12.html#Sysctl-Exporter-for-Prometheus)

| 链接                                                                                         |
| -------------------------------------------------------------------------------------------- |
| [Prometheus 项目](https://prometheus.io/)                                                    |
| [Node Exporter](https://github.com/prometheus/node_exporter)                                 |
| [Sysctl Exporter](https://svnweb.freebsd.org/base/head/usr.sbin/prometheus_sysctl_exporter/) |

联系人：Ed Schouten <[ed@FreeBSD.org](mailto:ed@FreeBSD.org)>

Prometheus 是一个开源监控系统，最初由 SoundCloud 于 2012 年构建。从 2016 年起，该项目成为了云原生计算基金会的一部分，与 Kubernetes 等其他项目一同发展。

Prometheus 通过定期发送 HTTP GET 请求来抓取目标。目标响应时会发送键值对的度量指标及其样本值。Prometheus 具有查询语言 PromQL，可以用来聚合样本值并指定警报条件。像 Grafana 这样的工具可以使用这些查询来创建炫酷的仪表盘。

Prometheus 项目提供了一个名为 node_exporter 的实用工具，用于收集基本的系统度量指标并通过 HTTP 提供。该工具相对复杂，因为它必须从多个不同的来源提取度量数据。在 Linux 上，/proc 中的文件没有统一的格式，因此每个内核框架都需要编写一个自定义收集器。

在 FreeBSD 上，情况更好，因为通过 sysctl 导出的数据已经以易于转换为 Prometheus 度量格式的方式进行结构化。该项目的目标是提供一个通用的导出工具，能够导出整个 sysctl 树。这样不仅可以避免不必要的膨胀和间接性，而且还可以使内核开发者的工作更加简便。通过（临时）将计数器添加到内核中，用户可以轻松使用 Prometheus 来绘制事件发生的时间曲线。

sysctl 导出工具的初始版本已于 12 月集成到 FreeBSD 基本系统中。它可以通过 inetd 运行，只需在 inetd.conf 中取消注释提供的示例。遗憾的是，由于依赖于会破坏 KBI 的 sysctl(9) 更改，因此该导出工具无法合并回 FreeBSD 10.x/11.x。

#### 开放任务：

1. 你是否在使用 Prometheus，或者是否有兴趣使用它？一定要尝试 Prometheus 和这个 sysctl 导出工具！
2. 如果我们能够创建一组有用的警报规则，并将其放在 /usr/share/examples 中，那将是很棒的。例如，如何使用这个导出工具来监控 GEOM 基于 RAID 的阵列的状态？这类信息是否通过 sysctl 导出？
3. Prometheus 使用了一种非常巧妙的格式来导出直方图。直方图对于表示完成某些事件所需的时间（例如，磁盘操作）非常有用。是否可以将直方图作为原生数据类型添加到 sysctl？如果可以，是否有可能在不获取内核锁的情况下实现它们？

### [The Graphics Stack on FreeBSD](https://www.freebsd.org/status/report-2016-10-2016-12.html#The-Graphics-Stack-on-FreeBSD)

| 链接                                                                        |
| --------------------------------------------------------------------------- |
| [图形堆栈路线图与支持的硬件矩阵](https://wiki.freebsd.org/Graphics)         |
| [GitHub 仓库](https://github.com/FreeBSDDesktop/freebsd-base-graphics)      |
| [ Port 开发仓库](https://github.com/FreeBSD/freebsd-ports-graphics)         |
| [libudevd-devd Shim 的分叉](https://github.com/FreeBSDDesktop/libudev-devd) |
| [图形团队博客](https://planet.freebsd.org/graphics)                         |

联系人：FreeBSD 图形团队 <[FreeBSD-x11@FreeBSD.org](mailto:FreeBSD-x11@FreeBSD.org)>  
联系人：Matthew Macy <[mmacy@nextbsd.org](mailto:mmacy@nextbsd.org)>

在圣诞节和新年期间，图形支持取得了良好进展，特别是在将 Linux 4.9 的 i915 和 amdgpu DRM 驱动导入到 GitHub 仓库的 drm-next 分支后。amdgpu KMS 驱动已经能够在一定程度上使用，尽管仍然存在一些主要已知问题。现在它支持从 Southern Islands 到 Polaris 的 GPU。4.9 更新还修复了由 4.8 合并引入的 i915 回归问题。drm-next 分支现在支持 Intel 集成显卡，直到 Kaby Lake CPU。为了使 CURRENT 上的开箱即用支持更加顺畅，已经撤销了大多数分支局部的虚拟机更改，并且将图形错误处理例程转换为使用 pg_populate。这种新接口带来了几个回归问题，导致 i915 出现 panic 并且 amdgpu 在集成 GPU 上出现严重的伪影。Mark Johnston (markj@) 已自愿分析这些问题。请大家支持并鼓励 Mark，感谢他帮助推动这个项目向前迈进。

为 Port 开发仓库创建了 xserver-mesa-next-udev 分支，该分支包含 Mesa 13.0 和修复较新 AMD GPU 的问题。它使用了 libudev-devd shim 的分叉，同时将 Mesa 与 Linux 上游更加接近。我计划继续更新 drm 和 amdgpu（用于我的桌面以及可能的长期 GPGPU 计算），同时与 Mark 一起解决 i915 中存在的已知问题（假设两个新提交者获得批准）。然而，Linux i915 开发者似乎在积极探索各种实现和内部 API 的使用方式，这使得追踪上游变得非常耗时。我正在帮助某人学习如何将 Linux 发布中的一部分更改迁移到 FreeBSD，希望他能够接管 drm-next i915 的维护工作。如果上述问题得到解决，计划为标准的 amd64 CURRENT 安装制作 linuxkpi、DRM 和 KMS 驱动的移植版本。结合相关图形 Port 的升级，这将为新的 AMD 和 Intel GPU 提供实验性支持。

### [FreeBSD on Hyper-V and Azure](https://www.freebsd.org/status/report-2016-10-2016-12.html#FreeBSD-on-Hyper-V-and-Azure)

| 链接                                                                                                              |
| ----------------------------------------------------------------------------------------------------------------- |
| [在 Microsoft Hyper-V 上运行的 FreeBSD 虚拟机](https://wiki.freebsd.org/HyperV)                                   |
| [在 Windows 上 Hyper-V 支持的 Linux 和 FreeBSD 虚拟机](https://technet.microsoft.com/en-us/library/dn531030.aspx) |

联系人：Sepherosa Ziehau <[sepherosa@gmail.com](mailto:sepherosa@gmail.com)>  
联系人：Hongjiang Zhang <[honzhan@microsoft.com](mailto:honzhan@microsoft.com)>  
联系人：Dexuan Cui <[decui@microsoft.com](mailto:decui@microsoft.com)>  
联系人：Kylie Liang <[kyliel@microsoft.com](mailto:kyliel@microsoft.com)>

这个项目为在 Hyper-V 虚拟化环境中运行的 FreeBSD 系统提供了原生虚拟化接口，改进了传统仿真设备的性能。

已实现每个环的轮询、多包 RNDIS 消息和系统 RSS 集成，进一步优化了 Hyper-V 网络驱动的吞吐量和延迟。

已实现虚拟机的实时备份（目前仅支持 UFS），此功能依赖于已实现的 VSS（卷影复制服务）。

PCIe 直通已经实现，NIC SR-IOV 的实现补丁正在 Phabricator 上进行审查。

已实现 vDSO 支持，以加速 gettimeofday(2) 的处理。

FreeBSD 11.0 的 Azure 镜像（[https://azure.microsoft.com/en-us/marketplace/partners/microsoft/FreeBSD110/](https://azure.microsoft.com/en-us/marketplace/partners/microsoft/FreeBSD110/)）现已可用，此外还提供了现有的 10.3 镜像。

我们修复了一个问题，解决了 SCSI 磁盘有时无法附加的问题，修复了 bug 215171（[Hyper-V] 无法从 Win2008R2/Win2012/Win2012R2 的 LUN 8 附加 SCSI 磁盘）。

该项目由 Microsoft 赞助。

### [I2C, GPIO, and SPI Support for MinnowBoard](https://www.freebsd.org/status/report-2016-10-2016-12.html#I2C,-GPIO,-and-SPI-Support-for-MinnowBoard)

| 链接                                             |
| ------------------------------------------------ |
| [博客文章](https://kernelnomicon.org/?p=767)     |
| [MinnowBoard 网站](https://www.minnowboard.org/) |

联系人：Oleksandr Tymoshenko <[gonzo@FreeBSD.org](mailto:gonzo@FreeBSD.org)>

MinnowBoard 是一款基于 Atom 的 x86 开发板（Intel E38xx 系列 SoC），具有适合制造者使用的外形：它提供了便捷的针脚访问，可以通过标准总线连接外设：GPIO、SPI 或 I2C。这些总线在 ARM/MIPS 世界中更常见，在 x86 上较少见，因此虽然 FreeBSD 能够正常启动，但缺乏对 MinnowBoard 上这些总线的支持。

从 r310645 开始，HEAD 支持所有三种总线，通过 ig4(4)、bytgpio(4) 和 intelspi 驱动。ig4(4) 和 bytgpio(4) 的更改已被回移植到 11-STABLE；intelspi 驱动将在几周内进行 MFC。

### [FreeBSD on ARM Boards](https://www.freebsd.org/status/report-2016-10-2016-12.html#FreeBSD-on-ARM-Boards)

| 链接                                                                                               |
| -------------------------------------------------------------------------------------------------- |
| [FreeBSD 在 Allwinner (Sunxi) 系统上的支持](https://wiki.freebsd.org/FreeBSD/arm/Allwinner)        |
| [为 IR 接口添加支持的 FreeBSD 提交](https://svnweb.freebsd.org/base?view=revision&revision=307984) |

联系人：Ganbold Tsagaankhuu <[ganbold@FreeBSD.org](mailto:ganbold@FreeBSD.org)>

已提交支持 Allwinner 消费者 IR 接口的必要更改。现在已经支持接收（RX）端，并且驱动程序使用了 evdev 框架。此功能已在 Cubieboard2（A20 SoC）上使用 lirc 和 dfrobot 的简单 IR 遥控器进行了测试。

### [FreeBSD/arm64](https://www.freebsd.org/status/report-2016-10-2016-12.html#FreeBSD/arm64)

| 链接                                                      |
| --------------------------------------------------------- |
| [FreeBSD arm64 Wiki 页面](https://wiki.freebsd.org/arm64) |

联系人：Andrew Turner <[andrew@FreeBSD.org](mailto:andrew@FreeBSD.org)>  
联系人：Oleksandr Tymoshenko <[gonzo@FreeBSD.org](mailto:gonzo@FreeBSD.org)>

已添加对从内核访问浮动点寄存器的支持。这使用与 i386 和 amd64 相同的 KPI。这将使我们能够处理浮动点状态可能被修改的地方，例如在调用 UEFI 时。

已将对 ARMv8 可选 AES 指令的支持添加到内核中。这利用了存储和恢复浮动点状态的能力。测试表明，ThunderX 硬件上的 AES 性能有了显著提高。

Cortex 字符串的 memcpy 和 memmove 函数已导入到内核中。这些是对这些常见函数的优化实现。

FreeBSD 现在可以在 SoftIron Overdrive 3000 上使用 ACPI 启动。为此所需的更改已经提交给 Phabricator 进行审查，包括启用 SMP 的启动以及所有当前支持的设备。

已提交对 Raspberry Pi 3 的支持。大多数设备正常工作，WiFi 和蓝牙除外，因为它们通过尚未支持的 SDIO 总线连接。

该项目由 FreeBSD 基金会和 ABT Systems Ltd 赞助。

### [FreeBSD/EC2](https://www.freebsd.org/status/report-2016-10-2016-12.html#FreeBSD/EC2)

联系人：Colin Percival <[cperciva@FreeBSD.org](mailto:cperciva@FreeBSD.org)>

此报告涵盖自上次 FreeBSD/EC2 状态报告（2015Q1）以来的工作。

FreeBSD/EC2 现在已成为常规 FreeBSD 版本构建的一部分，快照和版本将自动上传并复制到所有可用区域。由于法律限制，目前不包括 GovCloud 或中国（北京）区域；任何希望在这些区域使用 FreeBSD 的人都鼓励联系作者。

AWS 市场报告称，大约 800 名用户正在运行约 2000 个 FreeBSD EC2 实例。这不包括通过 EC2 API 和控制台直接启动的可能更多的 EC2 实例，但至少为使用情况提供了下限。

FreeBSD 11.0-RELEASE 支持 EC2 C3、C4、R3、I2、D2 和 M4（不包括 m4.16xlarge）实例的“增强网络”功能。这比旧版 EC2 实例和旧版本的 FreeBSD 提供了显著更高的网络性能。

FreeBSD 11.0-RELEASE 及更高版本还使用间接段磁盘 I/O，在相同或更低的延迟下提供约 20% 更高的吞吐量，并支持 128-vCPU x1.32xlarge 实例类型。

FreeBSD 现在支持 Amazon Simple Systems Manager 服务（“运行命令”）。

#### 待完成的任务：

1. 完成 FreeBSD/EC2 版本的账户重组。
2. 通过 P2、R4、X1 和 m4.16xlarge 实例中的新弹性网络适配器支持“第二代增强网络”。
3. 提供改进功能的工具，利用 Simple Systems Manager 服务：列出已安装的包、检查更新、添加/删除用户、[你的最爱系统管理员任务在这里]。
4. 为 EC2 的 IPv6 网络添加支持到默认的 FreeBSD/EC2 配置中。
5. 继续进行 FreeBSD 的 NFS 客户端与 Amazon Elastic File System（NFS-as-a-service）之间的互操作性测试。

### [Userland Programs](https://www.freebsd.org/status/report-2016-10-2016-12.html#Userland-Programs)

### [libarchive](https://www.freebsd.org/status/report-2016-10-2016-12.html#libarchive)

| 链接                                                               |
| ------------------------------------------------------------------ |
| [官方 Libarchive 网站](http://www.libarchive.org/)                 |
| [GitHub 上的 Libarchive](https://github.com/libarchive/libarchive) |

联系人：Tim Kientzle <[kientzle@FreeBSD.org](mailto:kientzle@FreeBSD.org)>  
联系人：Martin Matuska <[mm@FreeBSD.org](mailto:mm@FreeBSD.org)>

Libarchive 是一个 BSD 授权的归档和压缩库，最初作为 FreeBSD 的一部分开发。它支持多种输入和输出格式，还包括三个命令行工具：bsdcat、bsdcpio 和 bsdtar。FreeBSD 的 tar 和 cpio 工具直接来源于 Libarchive，其他许多重要的工具如 ar、unzip 和 pkg 包管理器也使用了 libarchive 的功能。

2016 年，libarchive 的开发重点是修复 bug 和代码清理，包括修复若干关键的安全问题。引入了 Travis CI 和 Jenkins 的自动化测试，libarchive 也被添加到 Google OSS-Fuzz 项目中。Fuzzing 帮助发现了若干隐藏问题，如缓冲区溢出和内存泄漏。

过去几个月，已完成并合并至 FreeBSD-CURRENT 的 NFSv4 ACL 支持，支持 pax 和受限 pax（bsdtar 默认格式）格式。现在可以将 NFSv4 ACL 条目存储并从 tar 归档中恢复。

#### 待完成的任务：

1. 在不同平台和版本的 FreeBSD 上进行更广泛的 CI 测试。目前，只有 11.0-RELEASE-amd64 通过自动化 Jenkins 作业进行测试。
2. 由于每次提交的 libarchive 可能影响 FreeBSD ports 的构建过程，能够触发（半）自动化的 exp-run 来验证 ports 树将是非常有用的。

### [Reproducible Builds in FreeBSD](https://www.freebsd.org/status/report-2016-10-2016-12.html#Reproducible-Builds-in-FreeBSD)

| 链接                                                                           |
| ------------------------------------------------------------------------------ |
| [基本系统可重现构建 Wiki 页面](https://wiki.freebsd.org/ReproducibleBuilds)    |
| [Ports 可重现构建 Wiki 页面](https://wiki.freebsd.org/PortsReproducibleBuilds) |
| [可重现构建网站](https://reproducible-builds.org/)                             |

联系人：Baptiste Daroussin <[bapt@FreeBSD.org](mailto:bapt@FreeBSD.org)>  
联系人：Ed Maste <[emaste@FreeBSD.org](mailto:emaste@FreeBSD.org)>

可重现构建是一组软件开发实践，创建从人类可读源代码到计算机使用的二进制代码的可验证路径。如果给定相同的源代码、构建环境和构建指令，任何方都可以重新创建所有指定工件的位对位相同的副本，那么构建就是可重现的。

Baptiste Daroussin 和 Ed Maste 参加了去年十二月在柏林举行的第二届可重现构建峰会。我们讨论了操作系统提供者的共同兴趣问题，包括其他 BSD 和 Linux 发行版。

在峰会后，提交了对 FreeBSD 基本系统的更改，解决了剩余的不可重现性源头。现在可以完全可重现地构建 FreeBSD 基本系统（内核和用户空间），尽管目前需要一些非默认设置。

约 80% 的 ports 树可以可重现构建，并且有一些正在进行的补丁。现在基本系统已经可以可重现构建，重点将转向 ports 树。

该项目由 FreeBSD 基金会和 Linux 基金会赞助。

#### 待完成的任务：

1. 将 FreeBSD ports 构建集成到可重现构建组织（reproducible-builds.org）的持续集成基础设施中。
2. 将可重现构建补丁集成到 ports 树中。
3. 调查各个 ports 中不可重现性的来源。

### [Updates to GDB](https://www.freebsd.org/status/report-2016-10-2016-12.html#Updates-to-GDB)

联系人：John Baldwin <[jhb@FreeBSD.org](mailto:jhb@FreeBSD.org)>  
联系人：Luca Pizzamiglio <[luca.pizzamiglio@gmail.com](mailto:luca.pizzamiglio@gmail.com)>

devel/gdb port 已更新为 GDB 7.12。

7.12 版本包括与追踪 vfork() 相关的额外修复。这些修复中的一些依赖于对内核中 ptrace() 的更改，以在 vfork() 的父进程恢复时报告新的 ptrace 停止。

已向上游提交对 FreeBSD/mips 用户空间二进制文件的支持。这些补丁以及对调试 FreeBSD/mips 内核的支持，应该很快会被添加到该 Port。

#### 待完成的任务：

1. 查明为什么 powerpc kgdb 目标无法在初始帧之后展开堆栈。
2. 为更多平台（arm、aarch64）添加对上游 gdb 的支持，适用于用户空间和 kgdb。
3. 添加对调试 powerpc 向量寄存器的支持。
4. 添加对 `$_siginfo` 的支持。
5. 实现 `info proc` 命令。
6. 实现 `info os` 命令。
7. 调试与 `kill` 命令相关的 gdb 停顿问题。

### [使用 LLVM 的 LLD 链接器作为 FreeBSD 的系统链接器](https://www.freebsd.org/status/report-2016-10-2016-12.html#Using-LLVM's-LLD-Linker-as-FreeBSD's-System-Linker)

| 链接                                                           |
| -------------------------------------------------------------- |
| [FreeBSD LLD Wiki 页面](https://wiki.freebsd.org/LLD)          |
| [FreeBSD/LLD 跟踪 PR (LLVM Bugzilla)](http://llvm.org/pr23214) |

联系人：Rafael Espéndola <[rafael.espindola@gmail.com](mailto:rafael.espindola@gmail.com)>  
联系人：Ed Maste <[emaste@FreeBSD.org](mailto:emaste@FreeBSD.org)>

LLD 是 LLVM 项目中的链接器。它是一个高性能链接器，支持 ELF、COFF 和 Mach-O 文件格式。它旨在与每种文件格式常用的链接器兼容。对于 ELF 文件格式，这包括 GNU 二进制文件描述符（BFD）ld 和 GNU gold。然而，LLD 的开发者并不受限于严格的兼容性要求，在影响性能或所需功能的情况下，进行灵活的实现。

LLD 开发者在过去的一个季度中取得了显著进展。通过对 LLD 和 FreeBSD 的更改，我们达到了一个重要里程碑：现在可以使用 LLD 链接整个 FreeBSD/amd64 基本系统（内核和用户空间）。

现在基本系统已经能够使用 LLD 链接，我们开始着手调查如何使用 LLD 链接 ports 树中的应用程序。通过这个过程，我们识别了 LLD 和一些 FreeBSD ports 中的限制或 bug。在一些进行中的补丁的帮助下，我们可以在 amd64 上使用 LLD 链接大约 95% 的 Ports 。

该项目由 FreeBSD 基金会赞助。

#### 待完成的任务：

1. 修复 libtool 以检测 LLD，并传递与 GNU ld 和 gold 相同的命令行参数。
2. 调查剩余的 amd64 ports 构建失败问题。
3. 调查并改进 LLD 在 arm64、i386、arm 和其他非 amd64 架构上的表现。
4. 进行广泛的测试。

## [Ports](https://www.freebsd.org/status/report-2016-10-2016-12.html#Ports)

### [GCC（GNU 编译器集合）](<https://www.freebsd.org/status/report-2016-10-2016-12.html#GCC-(GNU-Compiler-Collection)>)

| 链接                                 |
| ------------------------------------ |
| [GCC 官方网站](https://gcc.gnu.org/) |

联系人：Gerald Pfeifer <[gerald@FreeBSD.org](mailto:gerald@FreeBSD.org)>  
联系人：Andreas Tobler <[andreast@FreeBSD.org](mailto:andreast@FreeBSD.org)>  
联系人：Antoine Brodin <[antoine@FreeBSD.org](mailto:antoine@FreeBSD.org)>

期待已久的更新已到，GCC 4.9 已成为 Ports 中的默认版本（lang/gcc Port，Makefile 中的 USE_GCC=yes）。这次更新带来了许多改进；详情请见 [https://gcc.gnu.org/gcc-4.9/changes.html](https://gcc.gnu.org/gcc-4.9/changes.html)。

lang/gcc49 已更新至 GCC 4.9.4 版本，这标志着 GCC 4.9 分支和发布系列的结束。

（是的，这意味着我们应该尽快为 lang/gcc 准备下一个版本更新。这个更新本身相对简单，但任何帮助解决破损 ports 的工作都将非常有帮助——如果你想帮助我们，请告诉我们！）

lang/gcc6 已更新至 GCC 6.2 和 GCC 6.3，带来了相当多的修复，现在应该适合生产环境使用。

#### 待完成的任务：

1. 将 lang/gcc 更新至 GCC 5（因此也更新 USE_GCC=yes）。
2. 支持 AArch64。

### [LXQt 在 FreeBSD 上](https://www.freebsd.org/status/report-2016-10-2016-12.html#LXQt-on-FreeBSD)

| 链接                                                                    |
| ----------------------------------------------------------------------- |
| [LXQt 项目](http://lxqt.org/)                                           |
| [FreeBSD LXQt 项目](https://wiki.freebsd.org/LXQt)                      |
| [LXQt 开发仓库](https://www.assembla.com/spaces/lxqt/subversion/source) |

联系人：Olivier Duchateau <[olivierd@FreeBSD.org](mailto:olivierd@FreeBSD.org)>  
联系人：Jesper Schmitz Mouridsen <[jesper@schmitz.computer](mailto:jesper@schmitz.computer)>

LXQt 是 LXDE 的 Qt 移植版，是一个即将发布的轻量级桌面环境。它是 LXDE-Qt 和 Razor-qt 项目合并的产物。

移植工作仍在进行中：LXQt 需要 Plasma 5 的一些组件，这是新的主要 KDE 工作区。

我们导入了一些核心组件（需要更新 x11/qterminal 0.7.0）：

- devel/lxqt-build-tools
- devel/liblxqt
- devel/qtxdg
- x11/libfm-qt

独立应用程序：

- graphics/lximage-qt
- x11-fm/pcmanfm-qt

我们还更新了以下内容：

- x11/qterminal 0.7.1
- x11-toolkits/qtermwidget 0.7.1
- 更新 Porter's Handbook 以支持 LXQt（[https://bugs.FreeBSD.org/bugzilla/show_bug.cgi?id=215650](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=215650)）

#### 待完成的任务：

1. 改进 sysutils/lxqt-admin 中的支持（特别是日期和时间设置）。

### [Mono](https://www.freebsd.org/status/report-2016-10-2016-12.html#Mono)

| 链接                                             |
| ------------------------------------------------ |
| [Mono 官网](http://www.mono-project.com/)        |
| [.NET Core 官网](https://github.com/dotnet/core) |
| [Mono 项目页面](https://wiki.freebsd.org/Mono)   |

联系方式: Mono on FreeBSD 团队 <[mono@FreeBSD.org](mailto:mono@FreeBSD.org)>

在过去的一个季度，Mono 项目中的许多 Port 已被更新：

- Mono: 4.6.2.7
- MonoDevelop: 6.1.1.15, 6.1.2.44
- FSharp: 4.0.1.20

`USES=mono` 已扩展，以便更轻松地使用 Nuget 包。此扩展已被 FSharp、MonoDevelop 和 OpenRA 采用。

已开始着手移植微软开源的 .NET Core。得益于另一个团队的工作，coreclr 和 corefx 的本地组件已经支持 FreeBSD，但仍需要进一步的工作来引导构建过程并编译托管代码。

#### 待办事项：

1. 移植 .NET Core。
2. 测试 Mono 补丁。

### [Wine](https://www.freebsd.org/status/report-2016-10-2016-12.html#Wine)

| 链接                                      |
| ----------------------------------------- |
| [Wine 官网](https://www.winehq.org/)      |
| [项目页面](https://wiki.freebsd.org/Wine) |

联系方式: Gerald Pfeifer <[gerald@FreeBSD.org](mailto:gerald@FreeBSD.org)>
联系方式: David Naylor <[dbn@FreeBSD.org](mailto:dbn@FreeBSD.org)>

Wine 的稳定版本（即 emulators/wine）在过去半年中进行了三次维护发布，且 Xinerama 支持（如果您有多个屏幕）和 GNUTLS（对于 Evernote 或魔兽世界等应用非常有用）现在默认启用。

开发版本（即 emulators/wine-devel）稳步推进，并已进入 Wine 2.0 的 RC 阶段。我们期待不久将发布的新主要版本，结合了一年的活跃开发进展和发布版本的稳定性。

#### 待办事项：

1. 移植 WoW64。

### [Xfce on FreeBSD](https://www.freebsd.org/status/report-2016-10-2016-12.html#Xfce-on-FreeBSD)

| 链接                                                                         |
| ---------------------------------------------------------------------------- |
| [FreeBSD Xfce 项目](https://wiki.freebsd.org/Xfce)                           |
| [FreeBSD Xfce 仓库](https://www.assembla.com/spaces/xfce4/subversion/source) |

联系方式: FreeBSD Xfce 团队 <[xfce@FreeBSD.org](mailto:xfce@FreeBSD.org)>

Xfce 是一个针对 Unix 和类 Unix 平台（如 FreeBSD）的自由软件桌面环境。它旨在快速且轻量，同时具有视觉吸引力且易于使用。

在本季度，团队已更新以下应用程序：

- audio/xfce4-mpc-plugin 0.5.0（已提交到 devel 仓库）
- deskutils/xfce4-notifyd 0.3.4
- graphics/ristretto 0.8.1
- sysutils/xfce4-diskperf-plugin 2.6.0
- sysutils/xfce4-battery-plugin 1.1.0（已提交到 devel 仓库）
- sysutils/xfce4-fsguard-plugin 1.1.0（已提交到 devel 仓库）
- sysutils/xfce4-netload-plugin 1.3.0（已提交到 devel 仓库）
- sysutils/xfce4-systemload-plugin 1.2.0（已提交到 devel 仓库）
- sysutils/xfce4-wavelan-plugin 0.6.0（已提交到 devel 仓库）
- x11/xfce4-clipman-plugin 1.4.1
- x11/xfce4-conf 4.12.1
- x11/xfce4-dashboard 0.6.1
- x11/xfce4-terminal 0.8.2
- x11/xfce4-whiskermenu-plugin 1.6.2
- x11-clocks/xfce4-datetime-plugin 0.7.0（已提交到 devel 仓库）
- x11-wm/xfce4-panel 4.12.1
- www/xfce4-smartbookmark-plugin 0.5.0（已提交到 devel 仓库）

我们还跟进了以下不稳定版本（可在我们的实验仓库中获取）：

- sysutils/xfce4-settings 4.13.0（需要 Gtk+ > 3.20）
- x11/libexo 0.11.2
- x11/xfce4-whiskermenu-plugin 2.0.3

#### 待办事项：

1. 应用 [D8416](https://reviews.freebsd.org/D8416) 中讨论的更改（简化 Port Makefiles 中的 MASTER_SITES 宏）。
2. 提交稳定的面板插件。
